(window.webpackJsonp=window.webpackJsonp||[]).push([[298],{1193:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=s(n(28)),i=s(n(4714)),o=s(n(1415));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=Object.freeze({STANDARD:i.default.colorStandard,MUTED:i.default.colorMuted,ERROR:i.default.colorError,BRAND:i.default.colorBrand,HEADER_PRIMARY:i.default.colorHeaderPrimary,HEADER_SECONDARY:i.default.colorHeaderSecondary,CUSTOM:null}),d=Object.freeze({SIZE_10:o.default.size10,SIZE_12:o.default.size12,SIZE_14:o.default.size14,SIZE_16:o.default.size16,SIZE_20:o.default.size20,SIZE_24:o.default.size24}),c=function(e){var t,n=e.className,o=e.color,s=void 0===o?u.STANDARD:o,c=e.size,f=void 0===c?d.SIZE_14:c,p=e.tag,v=void 0===p?"div":p,h=e.selectable,m=void 0!==h&&h,_=e.children,g=e.style,y=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className","color","size","tag","selectable","children","style"]);return r.createElement(v,l({className:(0,a.default)(s,f,n,(t={},t[i.default.selectable]=m,t)),style:g},y),_)};c.displayName="Text",c.Colors=u,c.Sizes=d;var f=c;t.default=f},1196:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Types=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=s(n(28)),i=s(n(251)),o=s(n(4717));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={DEFAULT:"default",INPUT_PLACEHOLDER:"placeholder",DESCRIPTION:"description",LABEL_BOLD:"labelBold",LABEL_SELECTED:"labelSelected",LABEL_DESCRIPTOR:"labelDescriptor"};t.Types=u;var d="modeDefault",c="modeDisabled",f="modeSelectable",p=function(e){var t=e.type,n=void 0===t?u.DEFAULT:t,s=e.className,p=e.disabled,v=e.selectable,h=e.children,m=e.style,_=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["type","className","disabled","selectable","children","style"]),g=d;return p?g=c:v&&(g=f),r.createElement(i.default,l({className:(0,a.default)(o.default[n],s,o.default[g]),color:i.default.Colors.PRIMARY,style:m},_),h)};p.displayName="FormText",p.Types=u;var v=p;t.default=v},1326:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(1336));t.FormDivider=r.default;var a=d(n(1199));t.FormItem=a.default;var i=u(n(1416));t.FormNotice=i.default,t.FormNoticeTypes=i.Types,t.FormNoticeImagePositions=i.ImagePositions;var o=d(n(1334));t.FormSection=o.default;var s=u(n(1196));t.FormText=s.default,t.FormTextTypes=s.Types;var l=u(n(183));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}t.FormTitle=l.default,t.FormTitleTags=l.Tags},1330:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.renderModal,n=e.onCloseRequest,r=i.useRef(),a=i.useContext(v.ModalContext)[0];(0,s.default)(null!=a,"Unexpected missing modalDispatch"),i.useLayoutEffect(function(){var e=(0,l.default)();return a({type:p.ModalActionTypes.MODAL_OPEN,key:e,render:t,onCloseRequest:n}),r.current=e,function(){a({type:p.ModalActionTypes.MODAL_CLOSE,key:e})}},[a]);var o=i.useRef(!0);return i.useLayoutEffect(function(){o.current||((0,s.default)(null!=r.current,"Unexpected missing modalKeyRef.current"),a({type:p.ModalActionTypes.MODAL_UPDATE,key:r.current,render:t,onCloseRequest:n})),o.current=!1},[t,n,a]),null},t.ModalRoot=E,t.ModalCloseButton=t.ModalFooter=t.ModalContent=t.ModalHeader=t.ModalSize=void 0;var r,a,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=m(n(28)),s=m(n(16)),l=m(n(193)),u=n(1338),d=m(n(232)),c=m(n(695)),f=m(n(271)),p=n(266),v=n(694),h=m(n(4720));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large"});t.ModalSize=g;var y=Object.freeze(((r={})[g.SMALL]=h.default.small,r[g.MEDIUM]=h.default.medium,r[g.LARGE]=h.default.large,r));function E(e){var t=e.transitionState,n=e.children,r=e.size,a=void 0===r?g.SMALL:r,i=e.role,s=void 0===i?"dialog":i,l=e.className,f=t===p.ModalTransitionState.ENTERING||t===p.ModalTransitionState.ENTERED,v=(0,u.useSpring)({opacity:f?1:0,transform:f?"scale(1)":"scale(0.7)",config:{duration:f?300:100,easing:f?d.default.Easing.inOut(d.default.Easing.back()):d.default.Easing.quad}});return _(c.default,{autoFocus:!0,className:h.default.focusLock},void 0,_(u.animated.div,{role:s,"aria-modal":"true",className:(0,o.default)(l,h.default.root,y[a]),style:v},void 0,n))}E.displayName="ModalRoot";var I=f.default.Header;t.ModalHeader=I;var T=f.default.Content;t.ModalContent=T;var S=f.default.Footer;t.ModalFooter=S;var N=f.default.CloseButton;t.ModalCloseButton=N},1334:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=o(n(183)),i=o(n(4719));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t=e.children,n=e.className,r=e.title,o=e.tag,l=void 0===o?a.default.Tags.H5:o;return null!=r?s("div",{className:n},void 0,s(a.default,{tag:l},void 0,r),s("div",{className:i.default.children},void 0,t)):s("div",{className:n},void 0,t)};l.displayName="FormSection";var u=l;t.default=u},1336:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=o(n(28)),i=o(n(4716));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className,n=e.style;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(i.default.divider,t),style:n})}},1372:function(e,t,n){"use strict";t.__esModule=!0,t.makeDesktopDownloadURL=m,t.getPlatformReadableName=function(e){var t;return((t={})[p]="Windows",t[v]="Mac",t[h]="Linux",t)[_(e)]},t.getCurrentPlatformDownloadURL=function(){var e=_();return m(e,!1,e===h?"tar.gz":null)};var r,a=(r=n(57))&&r.__esModule?r:{default:r},i=n(2);var o="Ubuntu",s="Debian",l="Fedora",u="Red Hat",d="SuSE",c="Linux",f="OS X",p="win",v="osx",h="linux";function m(e,t,n){void 0===t&&(t=!1);var r=t?"/ptb":"",a=n?"&format="+n:"";return""+i.DownloadLinks.DESKTOP+r+"?platform="+e+a}function _(e){return void 0===e&&(e=a.default.os.family),e?-1!==e.indexOf(o)||-1!==e.indexOf(s)||-1!==e.indexOf(l)||-1!==e.indexOf(u)||-1!==e.indexOf(d)||-1!==e.indexOf(c)?h:-1!==e.indexOf(f)?v:p:p}},1405:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){a.default.transitionTo(i.Routes.CHANNEL(e.guildId,e.channelId))};var r,a=(r=n(77))&&r.__esModule?r:{default:r},i=n(2)},1410:function(e,t,n){"use strict";t.__esModule=!0,t.IS_APP_COMPATIBLE_BROWSER=void 0;var r,a=(r=n(57))&&r.__esModule?r:{default:r};var i=function(){if(null==window.WebSocket)return!1;switch(a.default.name){case"IE":case"Microsoft Edge":return parseInt(a.default.version,10)>=15;default:return!0}}();t.IS_APP_COMPATIBLE_BROWSER=i},1416:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ImagePositions=t.Types=void 0;var r,a=f(n(0)),i=c(n(28)),o=c(n(1200)),s=c(n(250)),l=c(n(1196)),u=f(n(183)),d=c(n(4718));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=o.default.Types;t.Types=h;var m={LEFT:"left",RIGHT:"right"};t.ImagePositions=m;var _=function(e){var t,n,r,c,f=e.type,h=void 0===f?o.default.Types.DANGER:f,_=e.imageData,g=e.button,y=e.className,E=e.iconClassName,I=e.title,T=e.body,S=e.style,N=e.align,O=void 0===N?s.default.Align.START:N,A=s.default.Direction.HORIZONTAL;if(null!=_){var R=_.position,P=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(_,["position"]);r=p(s.default.Child,{grow:0,shrink:0},void 0,a.createElement("img",v({alt:"",className:(0,i.default)(d.default.icon,E)},P))),R===m.RIGHT&&(A=s.default.Direction.HORIZONTAL_REVERSE)}else null!=g&&(c=g);var M=!0;return h===o.default.Types.PRIMARY&&(M=!1),p(o.default,{className:(0,i.default)(d.default.formNotice,y),type:h,style:S},void 0,p(s.default,{direction:A,align:O},void 0,r,p(s.default.Child,{},void 0,I?p(u.default,{faded:!0,tag:u.Tags.H5,className:(0,i.default)(d.default.formNoticeTitle,(t={},t[d.default.whiteText]=M,t))},void 0,I):null,p(l.default,{className:(0,i.default)(d.default.formNoticeBody,(n={},n[d.default.whiteText]=M,n))},void 0,T),c)))};_.displayName="FormNotice",_.Types=o.default.Types;var g=_;t.default=g},4749:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=U(n(0)),i=n(714),o=n(186),s=B(n(5)),l=B(n(718)),u=U(n(6287)),d=B(n(6199)),c=B(n(9309)),f=B(n(20)),p=B(n(6397)),v=B(n(1368)),h=B(n(297)),m=B(n(26)),_=n(7392),g=B(n(165)),y=B(n(9312)),E=n(764),I=n(1357),T=B(n(9313)),S=B(n(9314)),N=B(n(9327)),O=B(n(9330)),A=B(n(9332)),R=B(n(9333)),P=B(n(9335)),M=B(n(6565)),b=B(n(9339)),C=B(n(7233)),L=B(n(9340)),D=B(n(9341)),w=n(2);function B(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}s.default.initialize();var G=(0,T.default)(M.default),x=(0,T.default)(b.default),j=(0,T.default)(R.default),H=(0,T.default)(A.default),V=(0,T.default)(P.default),W=(0,T.default)(c.default),Y=(0,T.default)(C.default),z=(0,T.default)(N.default),K=(0,T.default)(D.default),X=(0,T.default)(L.default),$=(0,T.default)(O.default),q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={splash:null,redirectTo:null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){var t=e.invite,n=e.location,r=(0,i.parse)(n.search).redirect_to;null!=r&&(0,E.isSafeRedirect)(r)&&!r.startsWith(w.Routes.ME)||(r=null);var a=null;if(null==t)a=(0,_.getArtForPath)(r);else if(null!=t&&t.state===w.InviteStates.RESOLVED){var o=t.guild;null!=o&&"string"==typeof o.splash&&(a=g.default.getGuildSplashURL({id:o.id,splash:o.splash}))}return{redirectTo:r,splash:a}};var s=r.prototype;return s.componentDidMount=function(){var e=this.props,t=e.inviteCode,n=e.hasLoadedExperiments,r=e.isAuthenticated;null!=t&&(!n&&r&&l.default.getExperiments(),m.default.track(w.AnalyticEvents.INVITE_OPENED,{invite_code:t,load_time:y.default.getTimeSinceNavigationStart()},!0)),n&&this.resolveInvite(),this.resolveGiftCode()},s.componentDidUpdate=function(e){!e.hasLoadedExperiments&&this.props.hasLoadedExperiments&&this.resolveInvite()},s.resolveInvite=function(){var e=this.props.inviteCode;null!=e&&(d.default.resolveInvite(e,w.PageAnalyticsLocations.INVITE),d.default.openNativeAppModal(e))},s.resolveGiftCode=function(){var e=this.props.giftCode;null!=e&&(u.resolveGiftCode(e,!0,!0),u.openNativeGiftCodeModal(e))},s.render=function(){var e=this.state,t=e.splash,n=e.redirectTo;return F(S.default,{splash:t,redirectTo:n},void 0,F(o.Route,{path:w.Routes.LOGIN_HANDOFF,render:function(e){return a.createElement(x,k({},e,{redirectTo:n}))}}),F(o.Route,{path:w.Routes.LOGIN,render:function(e){return a.createElement(G,k({},e,{redirectTo:n}))}}),F(o.Route,{path:w.Routes.REGISTER,render:function(e){return a.createElement(Y,k({},e,{redirectTo:n}))}}),F(o.Route,{path:w.Routes.GIFT_CODE_LOGIN(":giftCode"),render:function(e){return a.createElement(H,k({login:!0},e))}}),F(o.Route,{path:w.Routes.GIFT_CODE(":giftCode"),render:function(e){return a.createElement(H,e)}}),F(o.Route,{path:w.Routes.BILLING_PREFIX,render:function(e){var t=e.transitionTo,r=e.location;return F(W,{transitionTo:t,location:r,redirectTo:n})}}),F(o.Route,{path:w.Routes.BILLING_XBOX_GAME_PASS_PROMOTION_REDEMPTION(":code"),render:function(e){var t=e.transitionTo,r=e.location;return F(W,{transitionTo:t,location:r,redirectTo:n})}}),F(o.Route,{path:w.Routes.INVITE_LOGIN(":inviteCode"),render:function(e){var t=e.match.params.inviteCode,n=e.location,r=e.transitionTo;return I.isMobile||I.isTablet?F(V,{inviteCode:t},t):F(j,{inviteCode:t,location:n,transitionTo:r,login:!0})}}),F(o.Route,{path:w.Routes.INVITE(":inviteCode"),render:function(e){var t=e.match.params.inviteCode,n=e.location,r=e.transitionTo;return I.isMobile||I.isTablet?F(V,{inviteCode:t},t):F(j,{inviteCode:t,location:n,transitionTo:r})}}),F(o.Route,{path:w.Routes.VERIFY,render:function(e){return a.createElement(K,e)}}),F(o.Route,{path:w.Routes.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return a.createElement($,e)}}),F(o.Route,{path:w.Routes.AUTHORIZE_IP,render:function(e){return a.createElement(z,e)}}),F(o.Route,{path:w.Routes.RESET,render:function(e){return a.createElement(X,e)}}))},r}(a.PureComponent);q.displayName="ViewsWithAuth";var Z=s.default.connectStores([f.default,v.default,p.default,h.default],function(e){var t=e.match,n=function(e){return null!=e&&null!=e.params?e.params.inviteCode:null}(t),r=function(e){return null!=e&&null!=e.params?e.params.giftCode:null}(t);return{inviteCode:n,isAuthenticated:f.default.isAuthenticated(),giftCode:r,gift:null!=r?p.default.get(r):null,invite:null!=n?v.default.getInvite(n):null,hasLoadedExperiments:h.default.hasLoadedExperiments}})(q);t.default=Z},6225:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.IncompatibleBrowser=t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.SubTitle=t.Title=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=T(n(28)),o=T(n(6562)),s=n(6229),l=n(1372),u=T(n(668)),d=n(258),c=T(n(163)),f=T(n(250)),p=T(n(6193)),v=T(n(251)),h=T(n(1328)),m=T(n(1199)),_=T(n(6563)),g=T(n(6180)),y=n(2),E=T(n(15)),I=T(n(5554));function T(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=g.default;null==O&&(O=function(){return null});var A=function(e){var t=e.className,n=e.children;return N(v.default,{color:v.default.Colors.WHITE,weight:v.default.Weights.LIGHT,className:(0,i.default)(I.default.title,t)},void 0,n)};t.Title=A,A.displayName="Title";var R=function(e){var t=e.className,n=e.children;return N(v.default,{weight:v.default.Weights.NORMAL,className:(0,i.default)(I.default.subTitle,t)},void 0,n)};t.SubTitle=R,R.displayName="SubTitle";var P=function(e){var t=e.className;return N("img",{alt:"",src:e.src,className:(0,i.default)(I.default.image,t)})};t.Image=P,P.displayName="Image";var M=function(e){var t,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]),o=r.look===c.default.Looks.LINK;return a.createElement(c.default,S({size:o?c.default.Sizes.MIN:c.default.Sizes.LARGE,fullWidth:!o,className:(0,i.default)(n,(t={},t[I.default.button]=!o,t[I.default.linkButton]=o,t))},r))};t.Button=M,M.displayName="Button",M.Looks=c.default.Looks,M.Colors=c.default.Colors,M.Sizes=c.default.Sizes;var b=function(e){var t=e.className,n=e.src,r=e.size;return N(O,{src:n,size:r,className:(0,i.default)(I.default.inviteLargeIcon,t),"aria-hidden":!0})};t.Avatar=b,b.displayName="Avatar",b.Sizes=O.Sizes;var C=function e(t){var n=t.className,r=t.guild,a=t.size,o=t.animate,s=void 0!==o&&o;return N(p.default,{guild:r,size:a,className:(0,i.default)(a===e.Sizes.XLARGE?I.default.inviteLargeIcon:I.default.inviteSmallIcon,n),animate:s})};t.GuildIcon=C,C.displayName="GuildIcon",C.Sizes=p.default.Sizes;var L=function(e){var t=e.className,n=e.channel,r=e.size;return N(O,{src:(0,s.getChannelIconURL)(n),size:r,className:(0,i.default)(I.default.inviteIcon,t),"aria-hidden":!0})};t.ChannelIcon=L,L.displayName="ChannelIcon",L.Sizes=O.Sizes;var D=function(e){var t,n=e.label,r=e.error,a=e.placeholder,o=e.value,s=e.className,l=e.inputClassName,u=e.setRef,d=e.type,c=void 0===d?"text":d,f=e.onChange,p=e.autoComplete,v=e.autoFocus,_=e.maxLength,g=e.spellCheck,y=e.name;return N(m.default,{title:n,error:r,className:s},void 0,N(h.default,{name:y,type:c,value:o,inputRef:u,placeholder:a,className:I.default.input,inputClassName:(0,i.default)(l,(t={},t[I.default.inputError]=null!=r,t)),"aria-label":n,onChange:f,autoComplete:p,autoFocus:v,maxLength:_,spellCheck:g}))};t.Input=D,D.displayName="Input";var w=function(e){var t=e.className,n=e.children;return N("div",{className:(0,i.default)(I.default.block,t)},void 0,n)};t.Block=w,w.displayName="Block";var B=function(e){var t=e.className,n=e.children,r=e.disabled,a=void 0!==r&&r;return N(v.default,{size:v.default.Sizes.SMALL,className:(0,i.default)(I.default.subText,t),disabled:a},void 0,n)};t.SubText=B,B.displayName="SubText";var U=function(e){var t=e.className,n=e.hideQuote,r=void 0!==n&&n;return N(f.default,{direction:f.default.Direction.VERTICAL,align:f.default.Align.CENTER,className:t},void 0,N(_.default,{className:I.default.spinnerVideo}),r?null:N(R,{className:I.default.spinnerText},void 0,o.default[Math.floor(Math.random()*o.default.length)][0]))};t.AuthSpinner=U,U.displayName="AuthSpinner";var F=function(e){var t,n=e.online,r=e.total,a=e.className;return null==r?null:(null!=n&&n>0&&(t=N("div",{className:(0,i.default)(I.default.pill,I.default.pillOnline)},void 0,N("i",{className:I.default.pillIconOnline}),N(v.default,{tag:"span",size:v.default.Sizes.MEDIUM,className:I.default.pillMessage},void 0,E.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})))),N(f.default,{justify:f.default.Justify.CENTER,className:a},void 0,t,N("div",{className:I.default.pill},void 0,N("i",{className:I.default.pillIconTotal}),N(v.default,{tag:"span",size:v.default.Sizes.MEDIUM,className:I.default.pillMessage},void 0,E.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r})))))};t.ActivityCount=F,F.displayName="ActivityCount";var k=function(e){var t=e.className;return N(w,{className:t},void 0,N(M,{onClick:function(){return window.open((0,l.getCurrentPlatformDownloadURL)())}},void 0,E.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:(0,l.getPlatformReadableName)()})),N(B,{className:I.default.downloadButtonSubtext},void 0,E.default.Messages.INCOMPATIBLE_BROWSER.format({supportedBrowserURL:u.default.getArticleURL(y.HelpdeskArticles.SUPPORTED_BROWSERS)})))};t.IncompatibleBrowser=k,k.displayName="IncompatibleBrowser";var G=function(e){var t=e.className,n=e.tag,r=void 0===n?"section":n,a=e.onSubmit,o=e.children,s=e.expanded,l=void 0!==s&&s;return N(r,{onSubmit:a,className:(0,i.default)(l?I.default.authBoxExpanded:I.default.authBox,(0,d.getThemeClass)(y.ThemeTypes.DARK),t)},void 0,N("div",{className:I.default.centeringWrapper},void 0,o))};G.displayName="AuthBox";var x=G;t.default=x},6429:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Register Modal",location:e}),r.default.dispatch({type:i.ActionTypes.REGISTER_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:i.ActionTypes.REGISTER_MODAL_CLOSE})};var r=o(n(4)),a=o(n(26)),i=n(2);function o(e){return e&&e.__esModule?e:{default:e}}},6440:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InviteResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=v(n(99)),o=v(n(713)),s=v(n(175)),l=v(n(6260)),u=v(n(6176)),d=n(6225),c=n(2),f=v(n(15)),p=v(n(5737));function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(){return h(a.Fragment,{},void 0,h(d.Avatar,{src:null,size:d.Avatar.Sizes.DEPRECATED_SIZE_100,className:p.default.avatar}),h(d.SubTitle,{},void 0,f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),h(d.Title,{className:p.default.inviteResolvingGuildName},void 0,f.default.Messages.LOADING))};t.InviteResolvingHeader=m,m.displayName="InviteResolvingHeader";var _=function(e){var t=e.guild,n=e.user;return n?h(d.Avatar,{src:null!=n?n.getAvatarURL():null,size:d.Avatar.Sizes.DEPRECATED_SIZE_100,className:p.default.avatar}):t?h(d.GuildIcon,{guild:t,size:d.GuildIcon.Sizes.XLARGE,className:p.default.guildIcon,animate:!0}):null},g=function(e){var t=e.invite,n=e.disableUser,r=void 0!==n&&n,v=e.error;if(null==t)return null;var m,g,y=null!=t.guild?new o.default(t.guild):null,E=null!=t.channel?new i.default(t.channel):null,I=r||null==t.inviter?null:new s.default(t.inviter),T=null!=t.approximate_member_count&&t.approximate_member_count>100,S=null!=y&&y.hasFeature(c.GuildFeatures.VERIFIED),N=null!=y&&y.hasFeature(c.GuildFeatures.PARTNERED),O=null;if(null!=y)O=null==I?f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:f.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:I.username}),t.target_user_type===c.InviteTargetUserTypes.STREAM&&null!=t.target_user&&(O=f.default.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username})),T||S||N||(m=h(d.GuildIcon,{guild:y,size:d.GuildIcon.Sizes.SMALL})),g=y.name;else if(null!=E){if(null==I)throw new Error("no inviter in group DM invite");var A=I.username;E.name?(O=f.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:A}),g=E.name,null!=E.icon&&(m=h(d.ChannelIcon,{channel:E,size:d.Avatar.Sizes.SIZE_32}))):(O=f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,g=A)}return h(a.Fragment,{},void 0,h(_,{guild:y,user:r||T?null:I}),v?h(a.Fragment,{},void 0,h(d.SubTitle,{},void 0,f.default.Messages.INVITE_MODAL_ERROR_TITLE),h(d.Title,{},void 0,v)):h(a.Fragment,{},void 0,h(d.SubTitle,{},void 0,O),h(d.Title,{className:p.default.title},void 0,null!=y?h(l.default,{guild:y,className:p.default.guildBadge,tooltipPosition:u.default.Positions.LEFT}):null,m,g)),h(d.ActivityCount,{className:p.default.activityCount,online:t.approximate_presence_count,total:t.approximate_member_count}))};g.displayName="InviteHeader";var y=g;t.default=y},6512:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=(r=n(7244))&&r.__esModule?r:{default:r},o=n(2);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){return a.createElement(i.default,s({sitekey:o.RECAPTCHA_SITE_KEY},e))};l.displayName="Recaptcha",l.Themes={LIGHT:"light",DARK:"dark"},l.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};var u=l;t.default=u},6562:function(e){e.exports=JSON.parse('[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]')},6563:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=n(1393),o=h(n(723)),s=h(n(6242)),l=n(2),u=h(n(6668)),d=h(n(6669)),c=h(n(6670)),f=h(n(6671)),p=h(n(6672)),v=h(n(6673));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _,g,y,E,I=m("source",{src:u.default,type:"video/mp4"},"mp4"),T=m("img",{alt:"",src:d.default},"png"),S=m("source",{src:c.default,type:"video/mp4"},"mp4"),N=m("img",{alt:"",src:f.default},"png"),O=m("source",{src:p.default,type:"video/webm"},"webm"),A=m("source",{src:v.default,type:"video/webm"},"webm"),R=(g=(0,i.getChromeVersion)(),y=[I,T],E=[S,N],(g>52||-1===g)&&(y.unshift(O),E.unshift(A)),(_={})[l.ThemeTypes.DARK]=y,_[l.ThemeTypes.LIGHT]=E,_),P=function(e){var t=e.loop,n=void 0===t||t,r=e.autoPlay,i=void 0===r||r,u=e.setRef,d=e.className,c=e.onReady,f=a.useContext(o.default);return a.createElement(s.default,{key:f,ref:u,onLoadedData:c,className:d,loop:n,autoPlay:i,playsInline:!0},R[f]||R[l.ThemeTypes.DARK])};P.displayName="AppSpinner";var M=P;t.default=M},6565:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=G(n(0)),i=k(n(28)),o=n(714),s=k(n(5)),l=k(n(718)),u=n(749),d=G(n(6615)),c=k(n(125)),f=G(n(6429)),p=n(166),v=n(278),h=k(n(235)),m=k(n(280)),_=k(n(1369)),g=n(6239),y=k(n(20)),E=k(n(760)),I=k(n(6282)),T=k(n(250)),S=k(n(251)),N=G(n(6225)),O=k(n(26)),A=n(104),R=n(1357),P=k(n(1198)),M=k(n(7232)),b=k(n(6867)),C=G(n(6440)),L=k(n(7761)),D=n(2),w=k(n(15)),B=k(n(5511)),U=k(n(1421)),F=k(n(5944));function k(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=(0,v.registerUserExperiment)({id:m.default.QR_CODE_LOGIN_DESKTOP,title:"QR Code Login on desktop",description:["QR Code Login","Control: Normal login flow","Show QR Login"],buckets:[p.ExperimentBuckets.CONTROL,p.ExperimentBuckets.TREATMENT_1]}),W=j(N.AuthSpinner,{hideQuote:!0}),Y=j(C.InviteResolvingHeader,{}),z=function(e){var t,r;function s(t){var n;(n=e.call(this,t)||this).setEmailRef=function(e){n.emailRef=e},n.setPasswordRef=function(e){n.passwordRef=e},n.setCodeRef=function(e){n.codeRef=e},n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var r=t[e];return Array.isArray(r)?r[0]:r}return null},n.handleLogin=function(e){var t=n.state,r=t.email,a=t.password,i=t.captchaKey,o=t.undelete;null!=e&&e.preventDefault(),l.default.login({email:r,password:a,undelete:o,captchaKey:i,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),A.ComponentDispatch.dispatch(D.ComponentActions.WAVE_EMPHASIZE)},n.handleTokenSubmit=function(e){var t=n.state.code,r=n.props.mfaTicket;null!=e&&e.preventDefault(),l.default.loginMFA({code:t.replace(/ /g,""),ticket:r,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),A.ComponentDispatch.dispatch(D.ComponentActions.WAVE_EMPHASIZE)},n.handleSMSTokenSubmit=function(e){var t=n.state.smsCode,r=n.props.mfaTicket;null!=e&&e.preventDefault(),l.default.loginSMS({code:t.replace(/ /g,""),ticket:r}),A.ComponentDispatch.dispatch(D.ComponentActions.WAVE_EMPHASIZE)},n.handleToggleSMSLogin=function(e){var t=n.props.mfaTicket;null!=e&&e.preventDefault(),l.default.requestSMSToken(t),A.ComponentDispatch.dispatch(D.ComponentActions.WAVE_EMPHASIZE)},n.handleForgotPassword=function(){var e=n.state.email;null!=n.emailRef&&n.emailRef.focus(),l.default.forgotPassword(e,function(){c.default.push(function(t){return a.createElement(P.default,x({header:w.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:w.default.Messages.OKAY,red:!1,className:R.isMobile?U.default.mobile:""},t),j(S.default,{size:S.default.Sizes.MEDIUM,color:S.default.Colors.PRIMARY},void 0,w.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:e})))})}),A.ComponentDispatch.dispatch(D.ComponentActions.WAVE_EMPHASIZE)},n.handleReset=function(e){null!=e&&e.preventDefault(),l.default.loginReset(),n.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1})},n.handleCancelAccountDeletion=function(){n.setState({undelete:!0},n.handleLogin)},n.handleCaptchaVerify=function(e){n.setState({captchaKey:e},n.handleLogin)},n.handleGotoRegister=function(){var e=n.state.email,t=n.props,r=t.invite,a=t.giftCode,i=t.location,s=t.transitionTo,u=t.redirectTo;if(t.isGuest)return d.close(),void f.open();var c,p=null!=i?(0,o.parse)(i.search):{};""!==e&&(p.email=e),null!=r?(p.mode="register",c=D.Routes.INVITE(r.code)):null!=a?(p.mode="register",c=D.Routes.GIFT_CODE(a.code)):null!=u?(c=D.Routes.REGISTER,p.redirect_to=u):c=D.Routes.REGISTER,l.default.loginReset(),s(c,{search:(0,o.stringify)(p)}),A.ComponentDispatch.dispatch(D.ComponentActions.WAVE_EMPHASIZE)};var r=null!=t.location?(0,o.parse)(t.location.search):{};return n.state={redirecting:t.authenticated,checkingHandoff:t.handoffAvailable,email:r.email||"",password:"",code:"",smsCode:"",captchaKey:null,undelete:!1},n}r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.getDerivedStateFromProps=function(e){var t=e.handoffAvailable,n=e.authenticated;return t||n?null:{checkingHandoff:!1}};var p,v,h,m=s.prototype;return m.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,r=e.giftCodeSKU,a=e.invite,i=e.location;t&&!n?(0,u.handoffBegin)():n&&this.loginOrSSO(n,i,!0),O.default.track(D.AnalyticEvents.LOGIN_VIEWED,x({location:null!=a?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource},null!=r?(0,_.default)(r,!1,!1):{}),!0),(0,g.trackAppUIViewed)("login")},m.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,r=t.location,a=this.state.checkingHandoff;!n||e.authenticated||a||this.loginOrSSO(n,r),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},m.loginOrSSO=function(e,t,n){var r=this;void 0===n&&(n=!1);var a=this.props.isGuest;e&&(null!=t||a)&&(n?l.default.verifySSOToken().then(function(){return r.transitionSSO(t)}):this.transitionSSO(t))},m.transitionSSO=function(e){var t=this.props,n=t.transitionTo,r=t.redirectTo;if(t.isGuest&&null!=r)n(r);else{var a=null!=e?(0,o.parse)(e.search):{},i=(a.redirect_to,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(a,["redirect_to"]));if(null!=r)n(r);else if(null==i.service)n(D.Routes.APP);else{var s=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+D.Endpoints.SSO,l=x({},i,{token:y.default.getToken()});window.location=s+"?"+(0,o.stringify)(l)}}},m.hasError=function(e){return null!=this.props.errors[e]},m.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return j(N.default,{className:e},void 0,W,j(N.Title,{className:B.default.marginBottom8},void 0,w.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),j(N.SubTitle,{},void 0,w.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},m.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo,r=e.authBoxClassName;return null==t?null:j(N.default,{className:r},void 0,j(N.Avatar,{src:t.getAvatarURL(),size:N.Avatar.Sizes.DEPRECATED_SIZE_100,className:B.default.marginBottom20}),j(N.Title,{className:B.default.marginBottom8},void 0,w.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),j(N.SubTitle,{className:B.default.marginBottom40},void 0,w.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),j(N.Block,{},void 0,j(N.Button,{onClick:function(){return n(D.Routes.APP)},className:B.default.marginBottom8},void 0,w.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),j(N.Button,{look:N.Button.Looks.LINK,onClick:this.handleReset},void 0,w.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},m.renderDisabledAccount=function(){var e=this.props.authBoxClassName,t=this.props.loginStatus===D.LoginStates.ACCOUNT_DISABLED,n=t?w.default.Messages.ACCOUNT_DISABLED_TITLE:w.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,r=t?w.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:w.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return j(N.default,{tag:"form",onSubmit:this.handleReset,className:e},void 0,j(N.Title,{className:B.default.marginBottom8},void 0,n),j(N.SubTitle,{className:B.default.marginBottom20},void 0,r),j(N.Block,{},void 0,j(N.Button,{color:N.Button.Colors.BRAND,type:"submit"},void 0,w.default.Messages.RETURN_TO_LOGIN),j("div",{className:(0,i.default)(B.default.marginTop8,F.default.needAccount)},void 0,w.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},m.renderResolving=function(){var e=this,t=this.props.authBoxClassName;return j(N.default,{className:t},void 0,Y,j(N.Block,{className:B.default.marginTop20},void 0,j(N.Input,{className:B.default.marginBottom20,label:w.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),j(N.Input,{className:B.default.marginBottom20,label:w.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),j(N.Button,{className:B.default.marginBottom8,type:"submit",disabled:!0},void 0,w.default.Messages.LOGIN),j(N.Button,{disabled:!0,look:N.Button.Looks.LINK},void 0,w.default.Messages.FORGOT_PASSWORD),j(N.Button,{disabled:!0,className:B.default.marginTop4,look:N.Button.Looks.LINK},void 0,w.default.Messages.NEED_ACCOUNT)))},m.renderDefault=function(){var e,t=this,n=this.props,r=n.invite,o=n.giftCode,s=n.loginStatus,u=n.authBoxClassName,d=n.isGuest,c=n.qrCodeLoginEnabled,f=!this.hasError("email")&&this.hasError("password");return e=null!=r&&null!=r.channel?j(C.default,{invite:r}):null!=o?j(b.default,{giftCode:o}):d?null:j(a.Fragment,{},void 0,j(N.Title,{className:B.default.marginBottom8},"title",w.default.Messages.LOGIN_TITLE),j(N.SubTitle,{},"subtitle",w.default.Messages.AUTH_LOGIN_BODY)),j(N.default,{onSubmit:this.handleLogin,tag:"form",className:u,expanded:c},void 0,j(T.default,{direction:T.default.Direction.HORIZONTAL},void 0,j("div",{className:F.default.mainLoginContainer},void 0,e,j(N.Block,{className:B.default.marginTop20},void 0,j(N.Input,{className:B.default.marginBottom20,label:w.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(e){return t.setState({email:e})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!f}),j(N.Input,{label:w.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return t.setState({password:e})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:f,value:this.state.password}),j(N.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:N.Button.Looks.LINK,className:(0,i.default)(B.default.marginBottom20,B.default.marginTop4)},void 0,w.default.Messages.FORGOT_PASSWORD),j(N.Button,{type:"submit",submitting:s===D.LoginStates.LOGGING_IN,className:B.default.marginBottom8},void 0,w.default.Messages.LOGIN),j("div",{className:B.default.marginTop4},void 0,j("span",{className:F.default.needAccount},void 0,w.default.Messages.NEED_ACCOUNT),j(N.Button,{onClick:this.handleGotoRegister,look:N.Button.Looks.LINK,className:F.default.smallRegisterLink},void 0,w.default.Messages.REGISTER)))),c?a.createElement(a.Fragment,null,j("div",{className:F.default.verticalSeparator}),j(L.default,{className:F.default.qrLogin,authTokenCallback:function(e){l.default.loginToken(e,!1)}})):null))},m.renderMFA=function(){var e=this,t=this.props,r=t.loginStatus,a=t.mfaSMS,i=t.authBoxClassName;return j(N.default,{onSubmit:this.handleTokenSubmit,tag:"form",className:i},void 0,j("img",{alt:"",src:n(6675),className:B.default.marginBottom20}),j(N.Title,{className:B.default.marginBottom8},void 0,w.default.Messages.TWO_FA),j(N.SubTitle,{},void 0,w.default.Messages.TWO_FA_ENTER_TOKEN_BODY),j(N.Block,{className:B.default.marginTop40},void 0,j(N.Input,{className:B.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:w.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:w.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),j(N.Button,{type:"submit",submitting:r===D.LoginStates.LOGGING_IN_MFA},void 0,w.default.Messages.LOGIN),a?j(N.Button,{onClick:this.handleToggleSMSLogin,submitting:r===D.LoginStates.LOGGING_IN_MFA_SMS,className:B.default.marginTop8,look:N.Button.Looks.LINK},void 0,w.default.Messages.MFA_SMS_RECEIVE_CODE):null,j(N.Button,{look:N.Button.Looks.LINK,className:B.default.marginTop4,onClick:this.handleReset},void 0,w.default.Messages.TWO_FA_LOGIN_FOOTER)))},m.renderMFASMS=function(){var e=this,t=this.props,r=t.loginStatus,a=t.maskedPhone,i=t.authBoxClassName,o=r===D.LoginStates.LOGGING_IN_MFA_SMS||""===a;return j(N.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:i},void 0,j("img",{alt:"",src:n(6675),className:B.default.marginBottom20}),j(N.Title,{className:B.default.marginBottom8},void 0,w.default.Messages.TWO_FA),j(N.SubTitle,{className:B.default.marginBottom8},void 0,o?w.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:w.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:a})),j(N.Block,{className:B.default.marginTop40},void 0,j(N.Input,{className:B.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:w.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:w.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),j(N.Button,{type:"submit",submitting:o,color:o?N.Button.Colors.TRANSPARENT:N.Button.Colors.BRAND},void 0,w.default.Messages.LOGIN),o?null:j(N.Button,{onClick:this.handleToggleSMSLogin,className:B.default.marginTop8,look:N.Button.Looks.LINK},void 0,w.default.Messages.MFA_SMS_RESEND),j(N.Button,{look:N.Button.Looks.LINK,className:B.default.marginTop4,onClick:this.handleReset},void 0,w.default.Messages.TWO_FA_LOGIN_FOOTER)))},m.render=function(){var e=this.props,t=e.authenticated,n=e.invite,r=e.loginStatus,a=e.handoffAvailable,i=e.isGuest,o=e.authBoxClassName,s=this.state,l=s.checkingHandoff;if(s.redirecting)return null;if(this.hasError("captcha_key"))return j(M.default,{authBoxClassName:o,onVerify:this.handleCaptchaVerify,title:i?null:w.default.Messages.LOGIN_TITLE});if(a)return this.renderHandOffAvailable();if(t&&l)return this.renderHandOffContinue();switch(r){case D.LoginStates.LOGGING_IN_MFA_SMS:case D.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case D.LoginStates.LOGGING_IN_MFA:case D.LoginStates.MFA_STEP:return this.renderMFA();case D.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case D.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case D.LoginStates.LOGGING_IN:case D.LoginStates.NONE:default:return null!=n&&n.state===D.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},p=s,(v=[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite,r=e.isGuest;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":r?"guest_lurker":null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}}])&&H(p.prototype,v),h&&H(p,h),s}(a.PureComponent);z.displayName="Login",z.defaultProps={isGuest:!1,transitionTo:function(t){return e.location.assign(t)}};var K=s.default.connectStores([y.default,E.default,I.default,h.default],function(){var e=h.default.getUserExperimentDescriptor(V.id);return{qrCodeLoginEnabled:null!=e&&e.bucket===p.ExperimentBuckets.TREATMENT_1,authenticated:y.default.isAuthenticated(),handoffAvailable:E.default.isHandoffAvailable(),user:E.default.user,loginStatus:y.default.getLoginStatus(),mfaTicket:y.default.getMFATicket(),mfaSMS:y.default.getMFASMS(),maskedPhone:y.default.getMaskedPhone(),errors:y.default.getErrors(),defaultRoute:I.default.defaultRoute}})(z);t.default=K}).call(this,n(22))},6615:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Login Modal",location:e}),r.default.dispatch({type:i.ActionTypes.LOGIN_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:i.ActionTypes.LOGIN_MODAL_CLOSE})};var r=o(n(4)),a=o(n(26)),i=n(2);function o(e){return e&&e.__esModule?e:{default:e}}},6646:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=function(){return d.apply(this,arguments)};var r=s(n(21)),a=s(n(4)),i=s(n(724)),o=n(2);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var u=216e5;function d(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=i.default.lastFetched)&&Date.now()-t<u)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.default.get({url:o.Endpoints.USER_ACTIVITY_STATISTICS});case 6:n=e.sent,a.default.dispatch({type:o.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}),(d=function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,s,"next",e)}function s(e){l(i,r,a,o,s,"throw",e)}o(void 0)})}).apply(this,arguments)}},6668:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6669:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6670:function(e,t,n){e.exports=n.p+"3a9125b1cf120f62f1339925115af7d4.mp4"},6671:function(e,t,n){e.exports=n.p+"c33d106fdbfb5f84e0e4f0352665f230.png"},6672:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6673:function(e,t,n){e.exports=n.p+"3d5696326e1a1f22f5025061e6701193.webm"},6675:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},675:function(e,t,n){"use strict";t.__esModule=!0,t.startGuildStream=function(e,t,n){i.default.dispatch(m({type:f.ActionTypes.STREAM_START,streamType:"guild",guildId:e,channelId:t,appContext:__OVERLAY__?f.AppContext.OVERLAY:f.AppContext.APP},n))},t.setStreamPaused=function(e,t){var n=(0,o.encodeStreamKey)(e);i.default.dispatch({type:f.ActionTypes.STREAM_SET_PAUSED,streamKey:n,paused:t})},t.watchStream=g,t.watchStreamAndTransitionToStream=function(e){var t=e.guildId,n=e.channelId;if(_(t,n))return;g(e),(0,s.default)(e)},t.stopStream=function(e){y(e),i.default.dispatch({type:f.ActionTypes.STREAM_STOP,streamKey:e,appContext:__OVERLAY__?f.AppContext.OVERLAY:f.AppContext.APP})},t.closeStream=y,t.fetchStreamPreview=function(e,t,n){return E.apply(this,arguments)},t.setLayout=function(e){i.default.dirtyDispatch({type:f.ActionTypes.STREAM_LAYOUT_UPDATE,layout:e})},t.setHackyMacMode=function(e){i.default.dirtyDispatch({type:f.ActionTypes.STREAM_SET_HACKY_MAC_MODE,enabled:e})},t.notifyStreamStart=function(e){return I.apply(this,arguments)};var r=p(n(16)),a=p(n(21)),i=p(n(4)),o=n(169),s=p(n(1405)),l=p(n(32)),u=p(n(182)),d=p(n(254)),c=n(1203),f=n(2);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){v(i,r,a,o,s,"next",e)}function s(e){v(i,r,a,o,s,"throw",e)}o(void 0)})}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){var n=l.default.getChannel(t);(0,r.default)(null!=n,"Cannot join a null voice channel");var a=d.default.getVoiceStatesForChannel(n);return!u.default.can(f.Permissions.MOVE_MEMBERS,n)&&(0,c.isChannelFull)(n,a.length)}function g(e){e.guildId;if(!_(0,e.channelId)){var t=(0,o.encodeStreamKey)(e);i.default.dispatch({type:f.ActionTypes.STREAM_WATCH,streamKey:t})}}function y(e){i.default.dispatch({type:f.ActionTypes.STREAM_CLOSE,streamKey:e})}function E(){return(E=h(regeneratorRuntime.mark(function e(t,n,r){var s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,o.encodeStreamKey)({streamType:"guild",guildId:t,channelId:n,ownerId:r}),i.default.dispatch({type:f.ActionTypes.STREAM_PREVIEW_FETCH_START,streamKey:s}),e.prev=2,e.next=5,a.default.get({url:f.Endpoints.STREAM_PREVIEW(s),query:{version:Date.now()}});case 5:l=e.sent,i.default.dispatch({type:f.ActionTypes.STREAM_PREVIEW_FETCH_SUCCESS,streamKey:s,previewURL:l.body.url}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),429===e.t0.status&&(u=e.t0.body.retry_after),i.default.dispatch({type:f.ActionTypes.STREAM_PREVIEW_FETCH_FAIL,streamKey:s,retryAfter:u});case 13:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function I(){return(I=h(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.default.post({url:f.Endpoints.STREAM_NOTIFY(t)});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}},6867:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GiftCodeResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=g(n(28)),o=g(n(5)),s=g(n(92)),l=g(n(36)),u=g(n(1333)),d=g(n(1195)),c=g(n(6201)),f=n(6225),p=n(2),v=g(n(15)),h=g(n(721)),m=g(n(5511)),_=g(n(5942));function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(){return y(a.Fragment,{},void 0,y(f.Avatar,{src:null,size:f.Avatar.Sizes.DEPRECATED_SIZE_100,className:m.default.marginBottom20}),y(f.SubTitle,{},void 0,v.default.Messages.GIFT_CODE_AUTH_GIFTED),y(f.Title,{className:(0,i.default)(m.default.marginTop8,h.default.flexCenter)},void 0,v.default.Messages.LOADING))};t.GiftCodeResolvingHeader=E,E.displayName="GiftCodeResolvingHeader";var I=function(e){var t=e.error,n=e.gifter,r=e.sku,o=e.application,s=e.subscriptionPlan,l=null==n?v.default.Messages.GIFT_CODE_AUTH_GIFTED:v.default.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:n.username}),u=r.name;return null!=s&&(u=(s.interval===p.SubscriptionIntervalTypes.MONTH?v.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:v.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:r.name,intervalCount:s.intervalCount})),y(a.Fragment,{},void 0,y(f.Avatar,{src:null!=n?n.getAvatarURL():null,size:f.Avatar.Sizes.DEPRECATED_SIZE_100,className:m.default.marginBottom20}),null!=t?y(a.Fragment,{},void 0,y(f.SubTitle,{},void 0,v.default.Messages.INVITE_MODAL_ERROR_TITLE),y(f.Title,{},void 0,t)):y(a.Fragment,{},void 0,y(f.SubTitle,{},void 0,l),y(f.Title,{className:(0,i.default)(m.default.marginTop8,h.default.flexCenter)},void 0,y(c.default,{size:c.default.Sizes.MEDIUM,className:_.default.applicationIcon,game:o,skuId:r.id}),u)))};I.displayName="GiftCodeHeader";var T=o.default.connectStores([d.default,s.default,u.default,l.default],function(e){var t=e.giftCode,n=d.default.get(t.skuId),r=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=r?u.default.get(r):null,application:null!=n?s.default.getGame(n.applicationId):null,gifter:l.default.getUser(t.userId)}})(I);t.default=T},6869:function(e,t,n){"use strict";t.__esModule=!0,t.WaveStates=t.POINT_TENSION_DEFAULT=t.TWO_PI=t.MAX_RADIUS=t.MIN_RADIUS=t.NOOP=void 0;t.NOOP=function(){};t.MIN_RADIUS=780;t.MAX_RADIUS=1e3;var r=2*Math.PI;t.TWO_PI=r;t.POINT_TENSION_DEFAULT=150;t.WaveStates={INITIAL:0,ENTERED:1,FILLING:2,FILLED:3}},7225:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=v(n(28)),o=n(1220),s=v(n(250)),l=v(n(6231)),u=v(n(251)),d=n(7716),c=n(126),f=v(n(15)),p=v(n(5922));function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,v,_,g=r.prototype;return g.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return h(u.default,{className:(0,i.default)(p.default.description,n)},void 0,t instanceof o.CreditCardSourceRecord?f.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,c.upperCaseFirstChar)(t.brand),last_4:t.last4}):f.default.Messages.PAYMENT_SOURCE_PAYPAL)},g.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r="";return t instanceof o.CreditCardSourceRecord?r=f.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof o.PaypalSourceRecord&&(r=t.email),r},g.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,r=e.showSubtext,a=e.isForSubscription;return h(s.default,{},void 0,h(l.default,{type:this.typeString}),h(s.default,{direction:s.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,h(s.default,{align:s.default.Align.CENTER},void 0,this.renderDescription(),t?h("div",{className:p.default.defaultIndicator},void 0,f.default.Messages.DEFAULT):null,a?h("div",{className:p.default.premiumIndicator},void 0,f.default.Messages.PAYMENT_SOURCE_SUBSCRIPTION):null,n.invalid?h("div",{className:p.default.invalidIndicator},void 0,f.default.Messages.PAYMENT_SOURCE_INVALID):null),r?h("div",{className:p.default.subText},void 0,this.renderSubText()):null))},a=r,(v=[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof o.PaypalSourceRecord?l.default.Types.PAYPAL:e instanceof o.CreditCardSourceRecord?l.default.getType(e.brand):l.default.Types.UNKNOWN}}])&&m(a.prototype,v),_&&m(a,_),r}(a.PureComponent);t.default=_,_.displayName="PaymentDescription",_.defaultProps={isForSubscription:!1,isDefault:!1,showSubtext:!1}},7232:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;d(n(0));var r,a=u(n(6512)),i=d(n(6225)),o=u(n(15)),s=u(n(721)),l=u(n(5511));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.title,r=e.onVerify,u=e.authBoxClassName;return c(i.default,{className:u},void 0,c("img",{alt:"",src:n(6675),className:l.default.marginBottom20}),null!=t?c(i.Title,{className:l.default.marginBottom8},void 0,t):null,c(i.SubTitle,{className:l.default.marginBottom40},void 0,o.default.Messages.BEEP_BOOP),c("div",{className:s.default.flexCenter},void 0,c(a.default,{onVerify:r,theme:a.default.Themes.DARK})))};f.displayName="AuthCaptcha";var p=f;t.default=p},7233:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=C(n(0)),i=b(n(28)),o=n(714),s=b(n(5)),l=n(78),u=b(n(718)),d=C(n(6615)),c=C(n(6429)),f=b(n(1369)),p=n(6239),v=b(n(20)),h=b(n(6282)),m=b(n(6206)),_=b(n(250)),g=b(n(6176)),y=C(n(6225)),E=b(n(183)),I=b(n(26)),T=n(104),S=b(n(7232)),N=b(n(6867)),O=C(n(6440)),A=n(2),R=b(n(15)),P=b(n(5511)),M=b(n(5948));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}s.default.initialize();var B=/\.$/,U=function(e){return Array.isArray(e)?e.map(function(e){return e.replace(B,"")}).join(". ").trim():e},F=D(O.InviteResolvingHeader,{}),k=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._retryTimer=new l.Timeout,n.handleCaptchaVerify=function(e){return n.setState({captchaKey:e},function(){return n.handleRegister()})},n.handleGotoLogin=function(){var e=n.state.email,t=n.props,r=t.onLoginStart,a=t.giftCode,i=t.transitionTo,s=t.invite,l=t.redirectTo,f=t.isGuest,p=t.location;if(f)return c.close(),void d.open();var v,h=null!=p?(0,o.parse)(p.search):{};null!=s?v=A.Routes.INVITE_LOGIN(s.code):null!=a?v=A.Routes.GIFT_CODE_LOGIN(a.code):null!=l?(v=A.Routes.LOGIN,h.redirect_to=l):(v=A.Routes.LOGIN,""!==e&&(h={email:e})),u.default.loginReset(),i(v,{search:(0,o.stringify)(h)}),null!=r&&r(),T.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},n.handleSubmit=function(e){e&&e.preventDefault(),n.handleRegister()},n.renderGiftCodeHeader=function(e){return D(N.default,{giftCode:e})};var r=null!=t.location?(0,o.parse)(t.location.search):{};return n.state={email:r.email||"",username:"",password:"",captchaKey:null,consent:!t.consentRequired,consentRequiredProp:t.consentRequired,isRateLimited:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s,v,b,C=r.prototype;return C.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},C.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props,t=e.giftCodeSKU,n=e.invite;I.default.track(A.AnalyticEvents.REGISTER_VIEWED,L({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?(0,f.default)(t,!1,!1):{}),!0),null==this.props.consentRequired&&u.default.getConsentRequired(),(0,p.trackAppUIViewed)("register")},C.componentWillUnmount=function(){this._retryTimer.stop()},r.getDerivedStateFromProps=function(e,t){var n=e.consentRequired;return null==t.consentRequiredProp&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}},C.componentDidUpdate=function(e){var t=this,n=this.props,r=n.errors,a=n.authenticated;e.errors!==r&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("retry_after")&&(this.setState({isRateLimited:!0}),this._retryTimer.start(this.props.errors.retry_after,function(){t.setState({isRateLimited:!1})}))),a&&!e.authenticated&&this.redirectIfAuthenticated()},C.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,r=e.redirectTo;t&&n(null!=r?r:h.default.defaultRoute)},C.handleRegister=function(){var e=this.state,t=e.email,n=e.username,r=e.password,a=e.captchaKey,i=e.consent,o=this.props,s=o.invite,l=o.giftCode,d=o.consentRequired,c=null!=s?s.code:null,f=null!=l?l.skuId:null;null!==d&&(null!=s?u.default.register({username:n,consent:i,invite:c,giftCodeSKUId:f,captchaKey:a}):u.default.registerFull({email:t,username:n,consent:i,password:r,invite:c,giftCodeSKUId:f,captchaKey:a}),T.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE))},C.hasError=function(e){return null!=this.props.errors[e]},C.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,r=null;return this.props.consentRequired?r=D(_.default,{className:P.default.marginTop20,align:_.default.Align.CENTER},void 0,D(m.default,{value:t,type:m.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:M.default.checkbox}),D(y.SubText,{},void 0,R.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:A.MarketingURLs.TERMS,privacyURL:A.MarketingURLs.PRIVACY}))):n=D(y.SubText,{className:P.default.marginTop20},void 0,R.default.Messages.TERMS_PRIVACY.format({termsURL:A.MarketingURLs.TERMS,privacyURL:A.MarketingURLs.PRIVACY})),{subText:n,consentText:r}},C.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return D(y.default,{className:t},void 0,F,D(y.Block,{className:P.default.marginTop40},void 0,D(E.default,{},void 0,R.default.Messages.FORM_LABEL_USERNAME),D(g.default,{text:R.default.Messages.AUTH_USERNAME_TOOLTIP,position:g.default.Positions.RIGHT,color:g.default.Colors.BRAND},void 0,function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return D(y.Input,{autoFocus:!0,className:P.default.marginBottom8,name:"username",value:e.state.username,placeholder:R.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},onMouseEnter:n,onMouseLeave:r})}),D(y.Button,{className:P.default.marginTop20,disabled:!0},void 0,R.default.Messages.CONTINUE),D(y.Button,{look:y.Button.Looks.LINK,disabled:!0,className:P.default.marginTop8},void 0,R.default.Messages.ALREADY_HAVE_ACCOUNT),D(y.SubText,{disabled:!0,className:P.default.marginTop20},void 0,R.default.Messages.TERMS_PRIVACY.format({termsURL:A.MarketingURLs.TERMS,privacyURL:A.MarketingURLs.PRIVACY}))))},C.renderInvite=function(){var e=this,t=this.props,n=t.invite,r=t.registering,i=t.consentRequired,o=t.authBoxClassName,s=t.errors.username,l=this.state.consent,u=this.renderConsentComponents(),d=u.subText,c=u.consentText,f=D(g.default,{text:!l&&i?R.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},void 0,function(t){return a.createElement("div",L({className:P.default.marginTop20},t),D(y.Button,{type:"submit",submitting:r,disabled:!e.hasConsent()},void 0,R.default.Messages.CONTINUE))});return D(y.default,{onSubmit:this.handleSubmit,tag:"form",className:o},void 0,D(O.default,{invite:n}),D(y.Block,{className:P.default.marginTop40},void 0,D(E.default,{error:U(s)},void 0,R.default.Messages.FORM_LABEL_USERNAME),D(g.default,{text:R.default.Messages.AUTH_USERNAME_TOOLTIP,position:g.default.Positions.RIGHT,color:g.default.Colors.BRAND},void 0,function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return D(y.Input,{autoFocus:!0,className:P.default.marginBottom8,name:"username",value:e.state.username,placeholder:R.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=s?"":null,onMouseEnter:n,onMouseLeave:r})}),c,f,D(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleGotoLogin,className:P.default.marginTop8},void 0,R.default.Messages.ALREADY_HAVE_ACCOUNT),d))},C.renderErrorMessage=function(){var e=this.props.errors.message,t=this.state.isRateLimited;return null!=e&&t?D(y.SubText,{className:(0,i.default)(P.default.marginTop20,M.default.errorMessage)},void 0,e):null},C.renderFull=function(e){var t=this,n=this.state,r=n.email,i=n.username,o=n.password,s=n.consent,l=this.props,u=l.registering,d=l.consentRequired,c=l.isGuest,f=l.authBoxClassName,p=l.errors,v=(p=void 0===p?{}:p).email,h=p.username,m=p.password,_=this.renderConsentComponents(),E=_.subText,I=_.consentText,T=this.renderErrorMessage(),S=D(g.default,{text:!s&&d?R.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},void 0,function(e){return a.createElement("div",L({className:P.default.marginTop20},e),D(y.Button,{type:"submit",submitting:u,disabled:!t.hasConsent()||t.state.isRateLimited},void 0,R.default.Messages.CONTINUE))});return D(y.default,{onSubmit:this.handleSubmit,tag:"form",className:f},void 0,c?null:null!=e?e():D(y.Title,{},void 0,R.default.Messages.REGISTER_TITLE),D(y.Block,{className:P.default.marginTop20},void 0,D(y.Input,{autoFocus:!0,label:R.default.Messages.FORM_LABEL_EMAIL,className:P.default.marginBottom20,name:"email",value:r,onChange:function(e){return t.setState({email:e})},error:U(v),type:"email",setRef:function(e){t.emailRef=e}}),D(y.Input,{label:R.default.Messages.FORM_LABEL_USERNAME,className:P.default.marginBottom20,name:"username",value:i,onChange:function(e){return t.setState({username:e})},error:U(h),setRef:function(e){t.usernameRef=e}}),D(y.Input,{label:R.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:o,onChange:function(e){return t.setState({password:e})},error:U(m),type:"password",setRef:function(e){t.passwordRef=e}}),I,S,T,D(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleGotoLogin,className:P.default.marginTop8},void 0,R.default.Messages.ALREADY_HAVE_ACCOUNT),E))},C.render=function(){var e=this,t=this.props,n=t.isGuest,r=t.authBoxClassName;if(this.hasError("captcha_key"))return D(S.default,{authBoxClassName:r,onVerify:this.handleCaptchaVerify,title:n?null:R.default.Messages.REGISTER_TITLE});var a=this.props,i=a.invite,o=a.giftCode;return null!=i?i.state===A.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite():null!=o?this.renderFull(function(){return e.renderGiftCodeHeader(o)}):this.renderFull()},s=r,(v=[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}}])&&w(s.prototype,v),b&&w(s,b),r}(a.PureComponent);k.displayName="Register",k.defaultProps={giftCodeResolved:!1,transitionTo:function(t){return e.location.assign(t)}};var G=s.default.connectStores([v.default],function(){return{consentRequired:v.default.getConsentRequired(),authenticated:v.default.isAuthenticated(),registering:v.default.getRegisterStatus(),errors:v.default.getErrors()}})(k);t.default=G}).call(this,n(22))},7355:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(0)),a=i(n(7980));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var o=function(e){var t,n;function i(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).QRRef=r.createRef(),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.componentDidMount=function(){new a.default(this.QRRef.current,this.props)},o.componentDidUpdate=function(){new a.default(this.QRRef.current,this.props)},o.render=function(){var e=this.props,t=e.colorLight,n=e.className;return r.createElement("div",{ref:this.QRRef,style:{padding:8,borderRadius:4,background:t},className:n})},i}(r.PureComponent);o.displayName="QRCode",o.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000",correctLevel:a.CorrectLevel.M};var s=o;t.default=s},7366:function(e,t,n){"use strict";t.__esModule=!0,t.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.applySpringForce=function(e,t,n,r){return r.tension*(e-t)-r.friction*n}},7392:function(e,t,n){"use strict";t.__esModule=!0,t.makeAuthenticated=function(e,t,n){var r=c(t,{});void 0===n&&(n={passProps:!0});return function(l){if(!s.default.isAuthenticated()&&!s.default.isGuest()){if(null!=t)return r;var u=location.pathname+location.search;return c(i.Redirect,{to:(0,o.getLoginPath)(u,!1)})}return a.createElement(e,n.passProps?l:null)}},t.getArtForPath=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=n(98),o=n(292),s=d(n(20)),l=d(n(7393)),u=d(n(7394));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(7395);var t=(new Date).getHours();return t>=6&&t<20?l.default:u.default}},7393:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},7394:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},7395:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},7713:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=I(n(28)),o=n(5),s=I(n(4)),l=n(1332),u=n(6646),d=I(n(7208)),c=I(n(6190)),f=I(n(1200)),p=I(n(250)),v=I(n(7714)),h=I(n(1194)),m=I(n(7715)),_=n(2),g=I(n(15)),y=I(n(5923)),E=I(n(5552));function I(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=10,A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={pageIndex:0,lastIdFetched:null},t.scrollerRef=a.createRef(),t.handlePageChange=function(e){var n=t.props.payments,r=n[n.length-1].id;e===t.numPages-1&&t.state.lastIdFetched!==r?((0,l.fetchPayments)(O,r),t.setState({pageIndex:e,lastIdFetched:r})):t.setState({pageIndex:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,d,c,I=r.prototype;return I.componentDidMount=function(){s.default.wait(function(){(0,u.fetchActivityStatistics)(),(0,l.fetchPayments)(O+O)})},I.componentDidUpdate=function(e,t){if(this.state.pageIndex!==t.pageIndex){var n=this.scrollerRef.current;null!=n&&n.scrollTo(0)}},I.renderPage=function(){var e=this.props,t=e.compactMode,n=e.locale,r=e.payments,o=this.state.pageIndex,s=r.slice(o*O,(o+1)*O);return S(a.Fragment,{},void 0,s.map(function(e,r){return S(m.default,{className:(0,i.default)(y.default.paymentRow,y.default.bottomDivider),payment:e,locale:n,compactMode:t},r)}))},I.renderPremiumAppleSubscription=function(){return S(f.default,{className:y.default.appleRow},void 0,S("div",{className:y.default.appleRowHeader},void 0,g.default.Messages.BILLING_APPLE_HEADER),S("div",{className:y.default.appleRowBody},void 0,g.default.Messages.BILLING_APPLE_DESCRIPTION.format({appleBillingLink:_.AppleBillingUrls.BILLING_MANAGEMENT})))},I.render=function(){var e=this.props,t=e.compactMode,n=e.payments,r=e.subscription,o=this.state.pageIndex,s=null!=r&&r.isPurchasedViaApple;return 0!==n.length||s?S("div",{className:y.default.verticalFit},void 0,s?this.renderPremiumAppleSubscription():null,n.length>0?S("div",{className:(0,i.default)(y.default.paymentPane,y.default.verticalFit)},void 0,t?null:S("div",{className:(0,i.default)(y.default.paymentRow,y.default.bottomDivider)},void 0,S(p.default,{className:y.default.paymentRowHeader},void 0,S("div",{className:E.default.date},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),S("div",{className:y.default.paymentRowHeaderDescription},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),S("div",{className:E.default.amount},void 0,g.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),S(v.default,{className:(0,i.default)(y.default.verticalFit,y.default.paginator),currentPageIndex:o,onChangePage:this.handlePageChange,numPages:this.numPages},void 0,a.createElement(h.default,{outerClassName:y.default.bottomDivider,theme:h.default.Themes.GHOST_HAIRLINE,ref:this.scrollerRef},this.renderPage()))):null):null},o=r,(d=[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/O),1)}}])&&N(o.prototype,d),c&&N(o,c),r}(a.PureComponent);A.displayName="PaymentHistory",A.defaultProps={compactMode:!1};t.default=function(e){var t=(0,o.useStateFromStores)([d.default],function(){return d.default.getPayments()}),n=(0,o.useStateFromStores)([c.default],function(){return c.default.getSubscription()});return a.createElement(A,T({},e,{payments:t,subscription:n}))}},7714:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(28)),i=l(n(664)),o=l(n(15)),s=l(n(5921));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n,r=e.currentPageIndex,l=e.numPages,d=e.onChangePage,c=e.children,f=e.className,p=e.showPageCount,v=void 0===p||p;return u("div",{className:(0,a.default)(s.default.paginator,f)},void 0,c,u("div",{className:s.default.pageActions},void 0,u(i.default,{name:i.default.Names.LEFT_CARET,onClick:function(){r>0&&d(r-1)},className:(0,a.default)(s.default.pageButtonPrev,(t={},t[s.default.disabled]=0===r,t)),"aria-label":o.default.Messages.PAGINATION_PREVIOUS}),u("div",{className:s.default.pageIndicator},void 0,v?o.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:r+1,numPages:l}):o.default.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:r+1})),u(i.default,{name:i.default.Names.RIGHT_CARET,onClick:function(){r<l-1&&d(r+1)},className:(0,a.default)(s.default.pageButtonNext,(n={},n[s.default.disabled]=r>=l-1,n)),"aria-label":o.default.Messages.PAGINATION_NEXT})))};d.displayName="Paginator";var c=d;t.default=c},7715:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=A(n(28)),o=A(n(101)),s=A(n(3)),l=A(n(5)),u=n(1220),d=A(n(92)),c=A(n(724)),f=A(n(666)),p=A(n(250)),v=A(n(6201)),h=A(n(664)),m=A(n(6231)),_=A(n(6176)),g=A(n(726)),y=n(1339),E=A(n(709)),I=n(1331),T=A(n(7225)),S=n(2),N=A(n(15)),O=A(n(5552));function A(e){return e&&e.__esModule?e:{default:e}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=14,C=5,L=2,D=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},w=(0,o.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),B=[S.PaymentStatusTypes.FAILED,S.PaymentStatusTypes.REVERSED],U=function(e){var t=e.description,n=e.cost;return M("li",{className:O.default.paymentDetail},void 0,M(p.default,{justify:p.default.Justify.BETWEEN},void 0,M("div",{},void 0,t),M("div",{},void 0,n)))};U.displayName="PaymentDetail";var F=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={expanded:!1},t.refundRules=[{rule:w.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0;var e=t.timePlayed;return null==e||e.asMilliseconds()<s.default.duration(L,"hours").asMilliseconds()}},{rule:w.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;if(t.isSkuPreorder)return!0;var n=e.isPremiumSubscription||e.isPremiumGift?C:b;return t.daysSincePurchase<=n}},{rule:w.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==S.SKUTypes.CONSUMABLE}},{rule:w.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:w.PAYMENT_STATUS,canRefund:function(){var e=t.props.payment;return!B.includes(e.status)}}],t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,d,c=r.prototype;return c.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},c.renderStatus=function(){switch(this.props.payment.status){case S.PaymentStatusTypes.PENDING:return M("span",{className:O.default.statusTagGrey},void 0,N.default.Messages.BILLING_TAG_PENDING);case S.PaymentStatusTypes.FAILED:return M("span",{className:O.default.statusTagRed},void 0,N.default.Messages.BILLING_TAG_FAILED);case S.PaymentStatusTypes.REFUNDED:return M("span",{className:O.default.statusTagGreen},void 0,N.default.Messages.BILLING_TAG_REFUNDED);case S.PaymentStatusTypes.REVERSED:return M("span",{className:O.default.statusTagRed},void 0,N.default.Messages.BILLING_TAG_REVERSED);default:return null}},c.renderPrice=function(){var e=this.props.payment;return M("span",{},void 0,(0,I.formatPrice)(e.amount,e.currency))},c.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,r=t.taxInclusive,o=t.tax,s=t.amount,l=t.currency;return M("div",{className:(0,i.default)(O.default.paymentText,O.default.paymentBreakdown)},void 0,null!=t.paymentSource?M(T.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:O.default.paymentText}):null,M("ul",{},void 0,!r&&o>0?M(a.Fragment,{},void 0,M(U,{description:t.description,cost:(0,I.formatPrice)(s-o,l)}),M(U,{description:N.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,I.formatPrice)(o,l)})):null,M(U,{description:N.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,I.formatPrice)(s,l)})))},c.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,r=this.validateRefundRules();if(r.includes(w.PAYMENT_STATUS)||r.includes(w.ALREADY_REFUNDED))return null;var i,o=0===r.length,s=D(t);return i=r.includes(w.SKU_TYPE)?N.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:s}):o?n.isPreorder&&this.isSkuPreorder?N.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:s}):n.isPremiumSubscription?N.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:C,supportURL:s}):n.isGift?N.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:n.isPremiumGift?C:b,supportURL:s}):N.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:b,playtimeLimit:L,supportURL:s}):n.isGift?N.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:b}):n.isPremiumSubscription?N.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:C,supportURL:s}):N.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:b,playtimeLimit:L}),M(a.Fragment,{},void 0,M("h2",{className:O.default.paymentHeader},void 0,N.default.Messages.BILLING_REFUND_HEADER),M("div",{className:O.default.paymentText},void 0,M("div",{},void 0,i),this.renderRefundActions(r)))},c.renderRefundActions=function(e){var t=this.props,n=t.locale,r=t.payment;return this.isSkuPreorder||e.includes(w.SKU_TYPE)?null:M(p.default,{justify:p.default.Justify.BETWEEN,align:p.default.Align.END},void 0,M(p.default,{},void 0,M("div",{className:O.default.refundCriteria},void 0,M("h3",{className:O.default.refundSubHeader},void 0,r.isPreorder?N.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:N.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),M(p.default,{align:p.default.Align.CENTER},void 0,M(h.default,{name:e.includes(w.PURCHASE_DATE)?h.default.Names.CLOSE:h.default.Names.CHECKMARK,className:O.default.refundCriteriaIcon}),M("div",{},void 0,N.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),r.isPremiumSubscription||r.isGift?null:M("div",{className:O.default.refundCriteria},void 0,M("h3",{className:O.default.refundSubHeader},void 0,N.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),M(p.default,{},void 0,M(h.default,{name:e.includes(w.TIME_PLAYED)?h.default.Names.CLOSE:h.default.Names.CHECKMARK,className:O.default.refundCriteriaIcon}),M("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():N.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),M(f.default,{href:D(n)},void 0,N.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},c.renderDescription=function(){var e,t,n=this.props,r=n.compactMode,i=n.payment,o=n.application,l=i.sku,u=i.subscription;if(null!=u&&null!=u.planId){var d,c=[];E.default.isNoneSubscription(u.planId)||(c.push(E.default.getDisplayName(u.planId)),d=S.SubscriptionPlanInfo[u.planId]);var f=u.additionalPlans,p=Array.isArray(f),m=0;for(f=p?f:f[Symbol.iterator]();;){var g;if(p){if(m>=f.length)break;g=f[m++]}else{if((m=f.next()).done)break;g=m.value}var I=g,T=I.planId,A=I.quantity;c.push((A>1?A+"x ":"")+E.default.getDisplayName(T)),null==d&&(d=S.SubscriptionPlanInfo[T])}t=c.join(", "),e=M(v.default,{className:O.default.descriptionIcon,game:o,size:v.default.Sizes.XSMALL,skuId:null!=d?d.skuId:null})}else null!=l?(t=i.isPreorder?N.default.Messages.PREORDER_SKU_NAME.format({name:l.name}):l.name,e=M(v.default,{className:O.default.descriptionIcon,game:o,size:v.default.Sizes.XSMALL,skuId:l.id})):(e=M(h.default,{className:O.default.descriptionIcon,name:h.default.Names.NITRO_WHEEL}),t=i.description);var P=M("div",{className:O.default.date},void 0,(0,y.dateFormat)((0,s.default)(i.createdAt),"MM/DD/YYYY")),b=i.isGift?M(_.default,{text:N.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,function(e){return a.createElement(h.default,R({className:O.default.giftIcon,name:h.default.Names.GIFT},e))}):null;return r?M("div",{className:O.default.description},void 0,e,M("div",{},void 0,t,P),b):M(a.Fragment,{},void 0,P,M("div",{className:O.default.description},void 0,e,M("div",{},void 0,t),b))},c.renderExpandedSection=function(){return M("div",{className:O.default.expandedInfo},void 0,M("h2",{className:O.default.paymentHeader},void 0,N.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},c.render=function(){var e,t=this.state.expanded,n=this.props,r=n.className,a=n.compactMode;return M("div",{className:(0,i.default)(t?O.default.payment:O.default.hoverablePayment,r,(e={},e[O.default.compact]=a,e))},void 0,M(p.default,{onClick:this.handleExpandInfo,className:O.default.summaryInfo,align:p.default.Align.CENTER},void 0,this.renderDescription(),M("div",{className:O.default.amount},void 0,this.renderStatus(),this.renderPrice()),M(h.default,{name:h.default.Names.CARET,className:O.default.expand,direction:t?g.default.Directions.UP:g.default.Directions.DOWN})),t?this.renderExpandedSection():null)},o=r,(l=[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?s.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,s.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof u.PaypalSourceRecord?m.default.Types.PAYPAL:e instanceof u.CreditCardSourceRecord?m.default.getType(e.brand):m.default.Types.UNKNOWN}}])&&P(o.prototype,l),d&&P(o,d),r}(a.PureComponent);F.displayName="PaymentHistoryRow",F.defaultProps={compactMode:!1};var k=l.default.connectStores([c.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===S.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?c.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?d.default.getGame(n):null}})(F);t.default=k},7716:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},7761:function(e,t,n){"use strict";t.__esModule=!0,t.default=D;var r,a,i,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),s=S(n(28)),l=S(n(123)),u=S(n(167)),d=S(n(6235)),c=S(n(163)),f=S(n(708)),p=n(6225),v=S(n(6180)),h=n(104),m=n(7762),_=S(n(7355)),g=S(n(6629)),y=n(2),E=S(n(15)),I=S(n(5511)),T=S(n(5943));function S(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){O(i,r,a,o,s,"next",e)}function s(e){O(i,r,a,o,s,"throw",e)}o(void 0)})}}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.PENDING_REMOTE_INIT=1]="PENDING_REMOTE_INIT",e[e.PENDING_FINISH=2]="PENDING_FINISH",e[e.FINISH=3]="FINISH"}(a||(a={})),function(e){e[e.QR_CODE=0]="QR_CODE",e[e.CONFIRM=1]="CONFIRM"}(i||(i={}));var R=n(7763),P=u.default.create("LoginQRSocket");function M(e){var t=o.useState(0),n=t[0],r=t[1],i=o.useState({step:a.INITIALIZING}),s=i[0],u=i[1],d=o.useMemo(function(){return new l.default(1500,3e4)},[]),c=function(){u({step:a.INITIALIZING}),r(function(e){return e+1})};return o.useEffect(function(){var t=Date.now(),n="wss:"+window.GLOBAL_ENV.REMOTE_AUTH_ENDPOINT+"/?v=1",r=new WebSocket(n);P.info("[0ms] connecting to "+n);var i=function(e){return P.info("["+(Date.now()-t)+"ms] "+e)},o=null,s=null,l=null,f=!0;function p(){if(null!=o)return o;throw new Error("No key pair set")}var v=function(){u({step:a.INITIALIZING}),d.fail(c)};r.onmessage=function(){var t=A(regeneratorRuntime.mark(function t(n){var o,s,_,g,E,I,T,S,N;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=n.data,s=JSON.parse(o),t.t0=s.op,t.next="nonce_proof"===t.t0?5:"pending_remote_init"===t.t0?12:"pending_finish"===t.t0?22:"finish"===t.t0?30:"cancel"===t.t0?39:"hello"===t.t0?42:"heartbeat_ack"===t.t0?45:46;break;case 5:return _=s.encrypted_nonce,t.next=8,(0,m.computeNonceProof)(p(),_);case 8:return g=t.sent,i("computed nonce proof"),r.send(JSON.stringify({op:"nonce_proof",proof:g})),t.abrupt("return");case 12:return d.succeed(),h.ComponentDispatch.dispatch(y.ComponentActions.WAVE_EMPHASIZE),t.next=16,(0,m.publicKeyFingerprint)(p());case 16:if((E=t.sent)===s.fingerprint){t.next=19;break}throw new Error("bad fingerprint "+E+" !== "+s.fingerprint);case 19:return i("handshake complete awaiting remote auth."),u({step:a.PENDING_REMOTE_INIT,fingerprint:E}),t.abrupt("return");case 22:return h.ComponentDispatch.dispatch(y.ComponentActions.WAVE_EMPHASIZE),i("remote auth handshake started, awaiting finish/cancel."),I=s.encrypted_user_payload,t.next=27,(0,m.decodeEncodedUserRecord)(p(),I);case 27:return T=t.sent,u({step:a.PENDING_FINISH,user:T}),t.abrupt("return");case 30:return h.ComponentDispatch.dispatch(y.ComponentActions.WAVE_EMPHASIZE),i("remote auth handshake finished."),S=s.encrypted_token,u({step:a.FINISH}),t.next=36,(0,m.decryptEncodedCiphertext)(p(),S);case 36:return N=t.sent,e(N),t.abrupt("return");case 39:return i("remote auth handshake cancelled."),c(),t.abrupt("return");case 42:return i("got hello, auth timeout="+s.timeout_ms+"ms"),l=setInterval(function(){f?(f=!1,r.send(JSON.stringify({op:"heartbeat"}))):(i("heartbeat timeout, reconnecting."),r.close(),v())},s.heartbeat_interval),t.abrupt("return");case 45:f=!0;case 46:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),r.onopen=A(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.generateRsaKeyPair)();case 2:return o=e.sent,e.next=5,(0,m.serializePublicKey)(o);case 5:return s=e.sent,e.next=8,(0,m.publicKeyFingerprint)(o);case 8:t=e.sent,i("connected, handshaking with fingerprint: "+t),r.send(JSON.stringify({op:"init",encoded_public_key:s}));case 11:case"end":return e.stop()}},e)})),r.onclose=function(e){i("disconnected, code: "+e.code+" "+e.reason),v()},r.onerror=function(e){i("disconnected, error: "+e),v()};return function(){i("cleaning up"),r.onopen=function(){return null},r.onmessage=function(){return null},r.onclose=function(){return null},r.onerror=function(){return null},r.close(1e3),d.cancel(),null!=l&&clearInterval(l)}},[e,d,n]),{state:s,cancel:c}}var b=N("img",{src:R,alt:""});function C(e){var t=e.text,n=void 0===t?"":t,r=o.useState(!1),a=r[0],i=r[1];return o.useEffect(function(){var e=new Image;e.src=R,e.onload=function(){return i(!0)},e.onerror=function(){return i(!0)}},[]),N("div",{className:T.default.qrCodeContainer},void 0,""!==n&&a?o.createElement(o.Fragment,null,N(_.default,{className:T.default.qrCode,width:160,height:160,text:n}),N("div",{className:T.default.qrCodeOverlay},void 0,b)):N("div",{className:T.default.qrCodeOverlay},void 0,N(f.default,{className:T.default.qrCode,type:f.default.Type.WANDERING_CUBES})))}function L(e){var t=e.state,n=e.cancel;switch(t.step){case a.INITIALIZING:case a.PENDING_REMOTE_INIT:return o.createElement(o.Fragment,null,N(C,{text:t.step===a.PENDING_REMOTE_INIT?"https://discordapp.com/ra/"+t.fingerprint:""}),N(p.Title,{className:I.default.marginBottom8},void 0,E.default.Messages.LOGIN_WITH_QR),N(p.SubTitle,{},void 0,E.default.Messages.LOGIN_WITH_QR_DESCRIPTION));case a.PENDING_FINISH:var r=t.user;return o.createElement(o.Fragment,null,N(g.default,{className:T.default.qrAvatar,user:r,size:v.default.Sizes.SIZE_120,isMobile:!0,status:"online"}),N(p.Title,{className:I.default.marginBottom8},void 0,E.default.Messages.CONFIRM_QR_CHECK_YOUR_PHONE),N(p.SubTitle,{},void 0,E.default.Messages.LOGIN_AS.format({username:r.username+"#"+r.discriminator})),N(c.default,{look:c.default.Looks.BLANK,size:c.default.Sizes.MIN,onClick:n,className:T.default.startOverButton},void 0,E.default.Messages.QR_CODE_LOGIN_START_OVER));case a.FINISH:return N(f.default,{type:f.default.Type.WANDERING_CUBES})}}function D(e){var t=e.authTokenCallback,n=e.className,r=M(t),o=r.state,l=r.cancel,u=function(e){switch(e){case a.INITIALIZING:case a.PENDING_REMOTE_INIT:return i.QR_CODE;case a.PENDING_FINISH:case a.FINISH:return i.CONFIRM}}(o.step);return N(d.default,{fillParent:!0,className:(0,s.default)(n,T.default.qrLogin),step:u,steps:[i.QR_CODE,i.CONFIRM]},void 0,N("div",{className:T.default.qrLoginInner},void 0,N(L,{state:o,cancel:l})))}C.displayName="QrCodeWithOverlay",D.displayName="LoginQRCode"},7762:function(e,t,n){"use strict";t.__esModule=!0,t.generateRsaKeyPair=function(){return window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["decrypt"])},t.serializePublicKey=function(e){return s.apply(this,arguments)},t.publicKeyFingerprint=function(e){return l.apply(this,arguments)},t.sha256Digest=u,t.decryptEncodedCiphertext=p,t.computeNonceProof=function(e,t){return h.apply(this,arguments)},t.decodeEncodedUserRecord=function(e,t){return m.apply(this,arguments)};var r,a=(r=n(175))&&r.__esModule?r:{default:r};function i(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)})}}function s(){return(s=o(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.exportKey("spki",t.publicKey);case 2:return n=e.sent,e.abrupt("return",btoa(String.fromCharCode.apply(String,new Uint8Array(n))));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.exportKey("spki",t.publicKey);case 2:return n=e.sent,e.abrupt("return",u(n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=o(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.digest("SHA-256",t);case 2:return n=e.sent,e.abrupt("return",btoa(String.fromCharCode.apply(String,new Uint8Array(n))).replace(/\//g,"_").replace(/\+/g,"-").replace(/={1,2}$/,""));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(e){return Uint8Array.from(atob(e),function(e){return e.charCodeAt(0)})}function f(e,t){return window.crypto.subtle.decrypt({name:"RSA-OAEP"},e.privateKey,t)}function p(e,t){return v.apply(this,arguments)}function v(){return(v=o(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TextDecoder,e.next=3,f(t,c(n));case 3:return a=e.sent,e.abrupt("return",r.decode(a));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=o(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,c(n));case 2:return r=e.sent,e.abrupt("return",u(r));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=o(regeneratorRuntime.mark(function e(t,n){var r,i,o,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,n);case 2:if(n=e.sent,r=/^(\d+):(\d{4}):([a-zA-Z0-9_]+):(.*)$/,null!=(i=n.match(r))){e.next=7;break}throw new Error("Invalid encoded user record.");case 7:return o=i[1],s=i[2],l=i[3],u=i[4],e.abrupt("return",new a.default({id:o,discriminator:s,avatar:"0"===l?null:l,username:u}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}},7763:function(e,t,n){e.exports=n.p+"36d4b341723daffd4a372e1b19591da1.png"},7994:function(e,t,n){e.exports=n.p+"e0c782560fd96acd7f01fda1f8c6ff24.svg"},7995:function(e,t,n){e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},7996:function(e,t,n){e.exports=n.p+"375217725f8ad1df6310e6738a7306e4.svg"},7997:function(e,t,n){e.exports=n.p+"bdcfee0c4d9fb22ce3c47b593df14254.svg"},7998:function(e,t,n){e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},9309:function(e,t,n){"use strict";t.__esModule=!0,t.default=F;var r,a=b(n(0)),i=M(n(16)),o=n(714),s=n(6230),l=n(681),u=n(186),d=b(n(5)),c=M(n(4)),f=M(n(718)),p=n(1332),v=n(1230),h=M(n(6565)),m=M(n(7211)),_=M(n(9310)),g=M(n(20)),y=M(n(6190)),E=n(266),I=n(709),T=n(6841),S=n(9311),N=n(6255),O=n(6329),A=n(6239),R=n(2),P=M(n(15));function M(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}d.default.initialize();var D={page:R.AnalyticsPages.DIRECT,object:R.AnalyticsObjects.BUTTON_CTA,objectType:R.AnalyticsObjectTypes.BUY};function w(e){var t=e.planId,n=e.subscription,r=e.onComplete,i=(0,s.useLazyValue)(function(){return null==n});return a.useEffect(function(){null==n||(0,I.isNoneSubscription)(n.planId)||r(R.BillingRedirectResultTypes.CANCEL)},[]),i?L(N.PremiumSubscriptionNewPlanModal,{transitionState:E.ModalTransitionState.ENTERED,planId:t,analyticsLocation:D,onClose:function(e){r(e?R.BillingRedirectResultTypes.PREMIUM:R.BillingRedirectResultTypes.CANCEL)}}):L(O.PremiumSwitchPlanModal,{transitionState:E.ModalTransitionState.ENTERED,initialPlanId:t,onClose:function(e){r(e?R.BillingRedirectResultTypes.PREMIUM:R.BillingRedirectResultTypes.CANCEL)},analyticsLocation:D})}function B(e){var t=e.planId,n=e.onComplete,r=(0,d.useStateFromStoresArray)([y.default],function(){return[y.default.getSubscription(),y.default.hasFetchedSubscriptions()]}),a=r[0];return r[1]?L(w,{planId:t,subscription:a,onComplete:n}):null}function U(e){var t=e.location,n=e.redirectTo,r=a.useState(function(){return!0}),s=r[0],d=r[1];a.useEffect(function(){function e(){var t;return t=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(e,t){c.default.wait(function(){(0,p.fetchSubscriptions)().then(e,t)})}),e.next=3,Promise.all([(0,p.fetchPaymentSources)(),t]);case 3:d(!1);case 4:case"end":return e.stop()}},e)}),(e=function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function o(e){C(i,r,a,o,s,"next",e)}function s(e){C(i,r,a,o,s,"throw",e)}o(void 0)})}).apply(this,arguments)}(0,v.fetchCurrentUserWithAnalyticsToken)(),function(){e.apply(this,arguments)}()},[]);var f=a.useRef(!1),h=t.search,g=a.useMemo(function(){return(0,o.parse)(h)},[h]),y=g.plan_id,I=g.gift;function A(e){if(!f.current){f.current=!0;var t=new URL(null!=n?n:R.Routes.APP,window.location.origin);t.searchParams.set("result_type",e),window.location=t.href}}if(s)return null;var M=L(B,{planId:y,onComplete:A});return L("div",{},void 0,L(l.Helmet,{title:P.default.Messages.PREMIUM_TITLE}),L(u.Switch,{},void 0,L(u.Route,{path:R.Routes.BILLING_PREMIUM_SUBSCRIBE,render:function(){return(0,i.default)(null!=y,"Expected planId"),"true"===I?L(N.PremiumSubscriptionNewPlanModal,{transitionState:E.ModalTransitionState.ENTERED,planId:y,isGift:!0,analyticsLocation:D,onClose:function(e){A(e?R.BillingRedirectResultTypes.PREMIUM:R.BillingRedirectResultTypes.CANCEL)}}):M}}),L(u.Route,{path:R.Routes.BILLING_PREMIUM_SWITCH_PLAN,render:function(){return L(O.PremiumSwitchPlanModal,{transitionState:E.ModalTransitionState.ENTERED,initialPlanId:y,onClose:function(e){return A(e?R.BillingRedirectResultTypes.PREMIUM:R.BillingRedirectResultTypes.CANCEL)},analyticsLocation:D})}}),L(u.Route,{path:R.Routes.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,render:function(){return L(T.PremiumGuildSubscriptionPurchaseModal,{transitionState:E.ModalTransitionState.ENTERED,onClose:function(e){return A(e?R.BillingRedirectResultTypes.PREMIUM:R.BillingRedirectResultTypes.CANCEL)},disablePremiumUpsell:!0,analyticsLocation:D})}}),L(u.Route,{path:R.Routes.BILLING_PAYMENT_SOURCES_CREATE,render:function(){return L(m.default,{onClose:function(){return A(R.BillingRedirectResultTypes.CANCEL)},onAddPaymentSource:function(){return A(R.BillingRedirectResultTypes.PAYMENT_SOURCE)}})}}),L(u.Route,{path:R.Routes.BILLING_PAYMENTS,render:function(e){var t=e.transitionTo;return L(_.default,{transitionTo:t,redirectTo:n})}}),L(u.Route,{path:R.Routes.BILLING_XBOX_GAME_PASS_PROMOTION_REDEMPTION(":code"),render:function(e){var t=e.match;return L(S.PremiumSubscriptionGamePassRedemptionModal,{transitionState:E.ModalTransitionState.ENTERED,giftCode:t.params.code,onClose:function(e){A(e?R.BillingRedirectResultTypes.PREMIUM:R.BillingRedirectResultTypes.CANCEL)}})}})))}function F(e){var t=(0,d.useStateFromStores)([g.default],function(){return g.default.isAuthenticated()});if(a.useEffect(function(){t&&f.default.verifySSOToken(),(0,A.trackAppUIViewed)("premium")},[]),!t){var n=e.transitionTo,r=e.location;return L(h.default,{transitionTo:n,location:r,redirectTo:""+r.pathname+r.search})}var i=e.redirectTo;return L(U,{location:e.location,redirectTo:i})}w.displayName="PremiumSubscriptionNewPlanLoaded",B.displayName="PremiumSubscriptionNewPlanScreen",U.displayName="AuthenticatedBillingStandalonePage",F.displayName="BillingStandalonePage"},9310:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=E(n(28)),o=n(681),s=E(n(5)),l=n(6239),u=E(n(20)),d=E(n(48)),c=E(n(1200)),f=E(n(250)),p=E(n(183)),v=n(258),h=E(n(6565)),m=E(n(7713)),_=n(2),g=E(n(15)),y=E(n(6130));function E(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}s.default.initialize();var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentDidMount=function(){(0,l.trackAppUIViewed)("payment_history")},s.render=function(){var e=this.props,t=e.authenticated,n=e.locale,r=e.transitionTo;return t?I(c.default,{className:(0,i.default)(y.default.card,(0,v.getThemeClass)(_.ThemeTypes.DARK)),type:c.default.Types.CUSTOM},void 0,I(o.Helmet,{title:g.default.Messages.BILLING_PAYMENT_HISTORY}),I(p.default,{tag:p.default.Tags.H2,className:y.default.title},void 0,I(f.default,{align:f.default.Align.CENTER},void 0,g.default.Messages.BILLING_PAYMENT_HISTORY)),I(m.default,{locale:n,compactMode:!0})):a.createElement(h.default,T({transitionTo:r,location:location},{redirectTo:_.Routes.BILLING_PAYMENTS}))},r}(a.PureComponent);S.displayName="PaymentHistoryPage",S.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var N=s.default.connectStores([u.default,d.default],function(){return{authenticated:u.default.isAuthenticated(),locale:d.default.locale}})(S);t.default=N}).call(this,n(22))},9311:function(e,t,n){"use strict";t.__esModule=!0,t.PremiumSubscriptionGamePassRedemptionModal=le;var r,a=V(n(0)),i=H(n(16)),o=H(n(3)),s=n(5),l=n(1332),u=n(6287),d=H(n(6283)),c=H(n(6256)),f=H(n(6350)),p=H(n(667)),v=H(n(1333)),h=H(n(6190)),m=H(n(666)),_=H(n(163)),g=H(n(250)),y=H(n(6415)),E=H(n(708)),I=H(n(6176)),T=n(1326),S=n(1330),N=H(n(26)),O=V(n(709)),A=n(1331),R=n(6294),P=n(6233),M=n(6227),b=n(6266),C=n(6267),L=H(n(6351)),D=H(n(6445)),w=n(6353),B=n(6295),U=n(6255),F=H(n(6451)),k=n(2),G=H(n(15)),x=H(n(6131)),j=H(n(5543));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function W(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){W(i,r,a,o,s,"next",e)}function s(e){W(i,r,a,o,s,"throw",e)}o(void 0)})}}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var X=[P.Step.PAYMENT_TYPE,P.Step.REVIEW,P.Step.CONFIRM],$=[].concat(w.SHARED_ADD_PAYMENT_STEPS,[P.Step.REVIEW,P.Step.CONFIRM]),q=[].concat(w.SHARED_CREDIT_CARD_STEPS,[P.Step.REVIEW,P.Step.CONFIRM]),Z=[].concat(w.SHARED_PAYPAL_STEPS,[P.Step.REVIEW,P.Step.CONFIRM]),Q=[].concat(w.SHARED_PAYMENT_REQUEST_STEPS,[P.Step.REVIEW,P.Step.CONFIRM]),J=2,ee=500,te=k.SubscriptionPlans.PREMIUM_MONTH_TIER_2,ne=3,re=Object.freeze({NEW_SUBSCRIPTION:1,NONE_SUBSCRIPTION:2,EXISTING_SUBSCRIPTION:3}),ae=K(C.PremiumInvoiceTableDivider,{});function ie(e){var t,n=e.paymentSources,r=e.paymentSourceId,i=e.plan,l=e.renewalInvoicePreview,u=e.onPaymentSourceChange,f=e.handlePaymentSourceAdd,v=e.setHasAcceptedTerms,h=e.legalTermsNodeRef,m=e.hasLegalTermsFlash,_=(0,s.useStateFromStores)([p.default],function(){return p.default.enabled});return null==l?K(E.default,{className:j.default.reviewLoader}):(t=K(C.PremiumInvoiceTable,{className:j.default.invoice},void 0,K(C.PremiumInvoiceTableHeader,{},void 0,G.default.Messages.BILLING_SWITCH_PLAN_SUBSCRIPTION_COST),K(C.PremiumInvoiceTableRow,{label:O.default.getDisplayName(i.id),value:(0,A.formatPrice)(i.price,l.currency)}),ae,K(C.PremiumInvoiceTableTotalRow,{label:G.default.Messages.BILLING_INVOICE_TODAY_TOTAL.format(),value:(0,A.formatPrice)(0,l.currency)}),K(B.SubscriptionInvoiceFooter,{renewalInvoice:l,overrideRenewalDate:(0,o.default)().add(ne,"months").toDate()})),K("div",{className:j.default.stepBody},void 0,K(T.FormTitle,{tag:T.FormTitleTags.H5,className:j.default.invoiceHeader},void 0,G.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:O.default.getDisplayName(i.id)})),K("div",{className:x.default.bodyText},void 0,G.default.Messages.XBOX_GAME_PASS_PROMOTION_REDEEM_BODY),t,K("div",{className:j.default.paymentSourceWrapper},void 0,K(T.FormTitle,{tag:T.FormTitleTags.H5},void 0,G.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_TITLE),K(d.default,{paymentSources:Object.values(n),selectedPaymentSourceId:r,prependOption:0===Object.keys(n).length?{label:G.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,onChange:u,onPaymentSourceAdd:f,hidePersonalInformation:_})),a.createElement(L.default,{isActive:m,ref:h},K(c.default,{onChange:v,forceShow:!0,className:j.default.purchaseTerms}),K("div",{className:j.default.subscriptionLegal},void 0,O.default.getLegalString(i.interval)))))}function oe(e){var t=e.plan,n=e.giftCode,r=e.hasAcceptedTerms,i=e.paymentSource,o=e.setPurchaseState,s=e.onNext,l=e.legalTermsNodeRef,d=e.flashLegalTerms,c=a.useState(!1),f=c[0],p=c[1],v=G.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:O.default.getDisplayName(t.id)}),h=function(){null!=l.current&&(l.current.scrollIntoView({behavior:"smooth"}),d())};return K(S.ModalFooter,{align:g.default.Align.CENTER},void 0,r&&null!=i?K(_.default,{onClick:Y(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),o(b.PurchaseState.PURCHASING),e.prev=2,e.next=5,(0,u.redeemGiftCode)(n,{paymentSourceId:i.id});case 5:o(b.PurchaseState.COMPLETED),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o(b.PurchaseState.FAIL,e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])})),color:_.default.Colors.GREEN,submitting:f},void 0,v):K(I.default,{text:null==i?G.default.Messages.BILLING_SELECT_PAYMENT_SOURCE_TOOLTIP:G.default.Messages.BILLING_ACCEPT_TERMS_TOOLTIP},void 0,function(e){return a.createElement(_.default,z({},e,{onClick:r?null:h,color:_.default.Colors.GREEN,type:"submit",disabled:r}),v)}))}function se(e){var t=e.renderPaymentModalContents,n=e.giftCode,r=e.subscription,i=e.setPurchaseState,o=e.step,s=e.setStep,l=e.onClose,d=a.useState(!1),c=d[0],f=d[1];return o===P.Step.CONFIRM?t({body:K("div",{className:x.default.body},void 0,K("div",{className:x.default.title},void 0,G.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_CONFIRM_TITLE),K("div",{className:x.default.bodyText},void 0,G.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_CONFIRM_BODY.format({planName:O.default.getDisplayName(te)})),K(_.default,{onClick:l,size:_.default.Sizes.SMALL},void 0,G.default.Messages.OKAY)),footer:null,hideBreadcrumbs:!0}):t({body:K("div",{className:x.default.body},void 0,K("div",{className:x.default.title},void 0,G.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_TITLE),K("div",{className:x.default.bodyText},void 0,G.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_BODY.format({planName:O.default.getDisplayName(te)})),K(_.default,{onClick:Y(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),i(b.PurchaseState.PURCHASING),e.prev=2,e.next=5,(0,u.redeemGiftCode)(n,{paymentSourceId:r.paymentSourceId});case 5:i(b.PurchaseState.COMPLETED),s(P.Step.CONFIRM),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(b.PurchaseState.FAIL,e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])})),size:_.default.Sizes.SMALL,submitting:c},void 0,G.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_BUTTON)),footer:null,hideBreadcrumbs:!0})}function le(e){var t=e.giftCode,n=e.onClose,r=e.transitionState,o=(0,w.useSharedPaymentModal)(),u=o.paymentSources,d=o.paymentSourceId,c=o.setPaymentSourceId,p=o.creditCardState,I=o.setCreditCardState,T=o.billingAddressState,A=o.setBillingAddressState,C=o.isSubmittingCurrentStep,L=o.setIsSubmittingCurrentStep,B=o.braintreeEmail,H=o.braintreeNonce,V=o.paymentError,W=o.paymentAuthenticationState,Y=o.purchaseError,z=o.setPurchaseError,ne=o.purchaseErrorBlockRef,ae=(0,s.useStateFromStores)([v.default],function(){return v.default.getHardcoded(te)}),le=(0,s.useStateFromStores)([h.default],function(){return h.default.hasFetchedSubscriptions()}),ue=(0,s.useStateFromStores)([h.default],function(){return h.default.getSubscription()}),de=a.useState(null),ce=de[0],fe=de[1];le&&null==ce&&(null==ue?fe(re.NEW_SUBSCRIPTION):(0,O.isNoneSubscription)(ue.planId)?fe(re.NONE_SUBSCRIPTION):fe(re.EXISTING_SUBSCRIPTION)),a.useEffect(function(){le||(0,l.fetchSubscriptions)()},[]);var pe=a.useState(P.Step.REVIEW),ve=pe[0],he=pe[1],me=a.useState(X),_e=me[0],ge=me[1],ye=a.useState(b.PurchaseState.WAITING),Ee=ye[0],Ie=ye[1],Te=a.useState(!1),Se=Te[0],Ne=Te[1],Oe=(0,M.useSubscriptionInvoice)({planId:ae.id,renewal:!0})[0],Ae=a.useRef(null),Re=(0,f.default)(!1,ee),Pe=Re[0],Me=Re[1];a.useEffect(function(){N.default.track(k.AnalyticEvents.OPEN_MODAL,{type:"Game Pass Premium Redemption"})},[]),(0,R.setPaymentStepForAuthentication)(ve,W,he),(0,P.setPurchaseStateForStep)(ve,Ee,Ie);var be=function(e){he(e),null!=Y&&z(null)},Ce=function(e,t){Ie(e),z(t)},Le=function(){null!=n&&n(Ee===b.PurchaseState.COMPLETED)},De=function(e){var t=e.body,n=e.footer,r=e.hideBreadcrumbs,a=void 0!==r&&r;return K(D.default,{steps:_e,currentStep:ve,paymentError:Y||V,body:t,footer:n,hideBreadcrumbs:a,purchaseErrorBlockRef:ne})},we=K(se,{renderPaymentModalContents:De,giftCode:t,subscription:ue,setPurchaseState:Ce,step:ve,setStep:be,onClose:Le}),Be=K(F.default,{hideClose:!0,planId:te,onClose:Le});return K(y.default,{className:j.default.shaker,isShaking:Ee===b.PurchaseState.PURCHASING,intensity:J},void 0,K(S.ModalRoot,{className:j.default.root,transitionState:r},void 0,K(U.PremiumSubscriptionNewPlanModalHeader,{premiumType:k.PremiumTypes.TIER_2,step:ve,purchaseState:Ee,onClose:Le}),K("form",{className:j.default.contentWrapper,onSubmit:function(e){return e.preventDefault()}},void 0,function(){if(null==ce)return K(E.default,{className:j.default.reviewLoader});if(ce===re.EXISTING_SUBSCRIPTION)return De({body:K("div",{className:x.default.body},void 0,K("div",{className:x.default.title},void 0,G.default.Messages.XBOX_GAME_PASS_PROMOTION_EXISTING_SUBSCRIBER_TITLE),K("div",{className:x.default.bodyText},void 0,G.default.Messages.XBOX_GAME_PASS_PROMOTION_EXISTING_SUBSCRIBER_BODY),K(_.default,{size:_.default.Sizes.SMALL,onClick:Le},void 0,G.default.Messages.OKAY)),footer:null,hideBreadcrumbs:!0});if(ce===re.NONE_SUBSCRIPTION)return(0,i.default)(null!=ue,"Expected subscription"),we;switch(ve){case P.Step.PAYMENT_TYPE:case P.Step.CREDIT_CARD_INFORMATION:case P.Step.PAYPAL_INFORMATION:case P.Step.PAYMENT_REQUEST_INFORMATION:case P.Step.ADDRESS:case P.Step.AWAITING_AUTHENTICATION:var e=(0,w.renderPaymentModalStep)(ve,be,_e,ge,T,A,u,c,p,I,C,L,B,H,P.Step.REVIEW,q,Z,Q,$),n=e.body,r=e.backStep,a=e.submitButton;return De({body:n,footer:null!=a||null!=r?K(S.ModalFooter,{justify:g.default.Justify.BETWEEN,align:g.default.Align.CENTER},void 0,K("div",{},void 0,a),null!=r?K(m.default,{onClick:function(){return be(r)},className:j.default.backLink},void 0,G.default.Messages.BACK):null):null});case P.Step.REVIEW:return De({body:K(ie,{paymentSources:u,paymentSourceId:d,plan:ae,renewalInvoicePreview:Oe,onPaymentSourceChange:function(e){return c(null!=e?e.id:null)},handlePaymentSourceAdd:function(){return be(P.Step.PAYMENT_TYPE)},setHasAcceptedTerms:Ne,legalTermsNodeRef:Ae,hasLegalTermsFlash:Pe}),footer:K(oe,{giftCode:t,plan:ae,hasAcceptedTerms:Se,paymentSource:null!=d?u[d]:null,setPurchaseState:Ce,onNext:function(){return be(P.Step.CONFIRM)},legalTermsNodeRef:Ae,flashLegalTerms:function(){return Me(!0)}})});case P.Step.CONFIRM:return De({body:Be,footer:null,hideBreadcrumbs:!0});default:throw new Error("Unexpected step "+ve)}}())))}ie.displayName="ReviewStepBody",oe.displayName="ReviewStepFooter",le.displayName="PremiumSubscriptionGamePassRedemptionModal"},9312:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(57)),a=n(298),i=o(n(171));function o(e){return e&&e.__esModule?e:{default:e}}var s={getIdleTime:function(e){i.default.getIdleMilliseconds(e)},dump:function(e){var t;performance.memory&&(t={jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize});var n={browser:{name:r.default.name,version:r.default.version},os:{name:r.default.os.family,version:r.default.os.version},memory:t};e(n)},getTimeSinceNavigationStart:function(){return Date.now()-a.navigationStart}};t.default=s},9313:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=c(n(736)),o=c(n(232)),s=n(126),l=n(1357),u=c(n(5555)),d=c(n(6132));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=(0,s.cssValueToNumber)(u.default.responsiveWidthMobile),v={START:0,END:1,OPACITY_INPUT_START:.5,OPACITY_INPUT_END:.7,OPACITY_OUTPUT_START:0,OPACITY_OUTPUT_END:1,SCALE_INPUT_START:0,SCALE_INPUT_END:1,SCALE_OUTPUT_START:.8,SCALE_OUTPUT_END:1},h={friction:10,tension:130};var m=function(e){return function(t){var n,s;function u(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).anim=new o.default.Value(v.START),e.state={shouldAnimate:!l.isMobile},e.handleResize=function(){var t=window.innerWidth>p;!e.state.shouldAnimate&&t&&e.anim.setValue(v.END),e.setState({shouldAnimate:t})},e.handleResizeDebounced=(0,i.default)(e.handleResize,60),e}s=t,(n=u).prototype=Object.create(s.prototype),n.prototype.constructor=n,n.__proto__=s;var c=u.prototype;return c.componentDidMount=function(){l.isMobile||(window.addEventListener("resize",this.handleResizeDebounced),this.handleResize())},c.componentWillUnmount=function(){clearTimeout(this.timeout),window.removeEventListener("resize",this.handleResizeDebounced)},c.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(v.END,e):e()},c.componentWillEnter=function(e){var t=this;this.state.shouldAnimate?(clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.animateTo(v.END,e)},40)):e()},c.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(v.START,e):e()},c.animateTo=function(e,t){o.default.spring(this.anim,f({toValue:e},h)).start(t)},c.getAnimatedStyle=function(){return this.state.shouldAnimate?{opacity:this.anim,transform:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null},c.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default.div,{className:d.default.wrapper,style:this.getAnimatedStyle()},void 0,a.createElement(e,this.props))},u}(a.Component)};t.default=m},9314:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=v(n(28)),o=v(n(9315)),s=v(n(9316)),l=n(6869),u=v(n(19)),d=v(n(77)),c=n(1357),f=n(2),p=v(n(6136));function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=[f.Routes.LOGIN,f.Routes.LOGIN_HANDOFF,f.Routes.REGISTER,f.Routes.INVITE(""),f.Routes.GIFT_CODE(""),f.Routes.DISABLE_EMAIL_NOTIFICATIONS,f.Routes.BILLING_PREMIUM_SUBSCRIBE,f.Routes.BILLING_PAYMENT_SOURCES_CREATE,f.Routes.BILLING_PAYMENTS,f.Routes.BILLING_PREMIUM_SWITCH_PLAN,f.Routes.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,f.Routes.VERIFY,f.Routes.AUTHORIZE_IP,f.Routes.RESET,f.Routes.HANDOFF],_=[f.Routes.APP,f.Routes.ACTIVITY,f.Routes.APPLICATION_LIBRARY,f.Routes.APPLICATION_STORE,"/channels/","/welcome/","/settings/",f.Routes.USERS("")];function g(e){return m.some(function(t){return e.startsWith(t)})}var y=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).updateWaveState=function(e){var t=n.state.waveState;n.setState({waveState:Math.max(t,e)})},n.transitionTo=function(e,t){var r=n.state.waveState;g(e)?d.default.transitionTo(e,t):n.setState({route:e,extra:t,waveState:Math.max(r,l.WaveStates.FILLING)})},n.replaceWith=function(e){var t=n.state.waveState;g(e)?d.default.replaceWith(e):n.setState({route:e,replaceWith:!0,waveState:Math.max(t,l.WaveStates.FILLING)})},n.state={waveState:l.WaveStates.INITIAL,extra:{},replaceWith:!1,route:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.componentDidUpdate=function(e,t){var n=this.state,r=n.waveState,a=n.replaceWith,i=n.extra,o=n.route;if(r===l.WaveStates.FILLED&&r!==t.waveState&&null!=o){if(function(e){return _.some(function(t){return e.startsWith(t)})}(o))return a?d.default.replaceWith(o):d.default.transitionTo(o,i);window.location=o}},f.mobileTransitionTo=function(e,t){if(g(e))d.default.transitionTo(e,t);else{var n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:e+"?"+n}},f.mobileReplaceWith=function(e){g(e)?d.default.replaceWith(e):window.location=e},f.renderDefault=function(){var e,t=this,n=this.props,r=n.splash,d=n.children,c=this.state,f=c.waveState,v=null;return null==c.route&&(v=a.Children.map(d,function(e){return a.cloneElement(e,{transitionTo:t.transitionTo,replaceWith:t.replaceWith})})),h(s.default,{className:(0,i.default)(p.default.splashBackground,(e={},e[p.default.loggingIn]=f>=l.WaveStates.FILLING,e)),splash:r,waveState:f,showLogo:!u.default.isWindows(),updateWaveState:this.updateWaveState},void 0,h(o.default,{component:a.Fragment},void 0,v))},f.renderMobile=function(){var e=this;return h(o.default,{component:a.Fragment},void 0,a.Children.map(this.props.children,function(t){return a.cloneElement(t,{transitionTo:e.mobileTransitionTo,replaceWith:e.mobileReplaceWith})}))},f.render=function(){return c.isMobile?this.renderMobile():this.renderDefault()},r}(a.Component);y.displayName="AuthWrapper";var E=y;t.default=E},9315:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=n(186),o=(r=n(276))&&r.__esModule?r:{default:r};function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.location,r=e.history,u=e.staticContext,d=(e.match,l(e,["children","location","history","staticContext","match"])),c=null,f=null;return a.Children.forEach(t,function(e){if(null==c&&a.isValidElement(e)){var t=e.props,o=t.component,d=t.render,p=l(t,["component","render"]),v=p.path||p.from;if(null==(c=null!=v?(0,i.matchPath)(n.pathname,s({},p,{path:v})):null))return;p=s({},p,{key:v,location:n,match:c,history:r,staticContext:u}),null!=o?f=a.createElement(o,p):null!=d&&(f=d(p))}}),a.createElement(o.default,d,f)},r}(a.Component);u.displayName="TransitionSwitch";var d=(0,i.withRouter)(u);t.default=d},9316:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=c(n(28)),o=c(n(9317)),s=c(n(9318)),l=c(n(9319)),u=n(6869),d=c(n(5555));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={naturalWidth:0,naturalHeight:0,width:0,height:0},t.resizeImage=function(){var e=t.state,n=e.naturalWidth,r=e.naturalHeight;t.setState(t.calculateDimensions(n,r))},t.handleLoad=function(e){var n=e.currentTarget,r=n.naturalWidth,a=n.naturalHeight;t.setState(t.calculateDimensions(r,a)),window.removeEventListener("resize",t.resizeImage),window.addEventListener("resize",t.resizeImage)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeImage)},c.calculateDimensions=function(e,t){var n=window,r=n.innerWidth,a=n.innerHeight;if(0===e||0===t)return null;var i=t/e,o=r,s=Math.round(r*i);return s<a&&(s=a,i=e/t,o=Math.round(a*i)),{naturalWidth:e,naturalHeight:t,width:o,height:s}},c.renderSplashArt=function(){var e=this.props.splash,t=this.state,n=t.width,r=t.height;return null!=e?f(o.default,{className:d.default.rightSplit,src:e,width:n,height:r,onLoad:this.handleLoad}):null},c.renderContent=function(){var e,t=this.props,n=t.children,r=t.waveState,o=t.updateWaveState,c=t.showLogo;return f(a.Fragment,{},void 0,f(l.default,{waveState:r,updateWaveState:o}),f("div",{className:(0,i.default)(d.default.leftSplit,(e={},e[d.default.hasLogo]=c,e))},void 0,c?f(s.default,{show:r===u.WaveStates.ENTERED&&r!==u.WaveStates.FILLING}):null,n))},c.render=function(){var e=this.props.className;return f("div",{className:(0,i.default)(e,d.default.wrapper)},void 0,this.renderSplashArt(),this.renderContent())},r}(a.PureComponent);p.displayName="WaveSplash";var v=p;t.default=v},9317:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=s(n(28)),o=s(n(6133));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).unmounting=!1,n.state={loaded:!1},n.initialize(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){var t=this;e.src!==this.props.src&&this.setState({loaded:!1},function(){return t.initialize()})},a.initialize=function(){var e,t=this;(e=this.props.src,new Promise(function(t,n){null==e&&n(new Error("No image src passed"));var r=new Image;r.src=e,r.onload=function(){return t(r)},r.onerror=function(e){return n(e)}})).then(function(){t.unmounting||t.setState({loaded:!0})})},a.componentWillUnmount=function(){this.unmounting=!0},a.render=function(){var e,t=this.props,n=t.className,r=t.src,a=t.alt,s=t.width,d=t.height,c=t.onLoad,f=t.style,p=this.state.loaded;return l("div",{className:n,style:u({},f,{width:s,height:d})},void 0,l("img",{className:(0,i.default)(o.default.image,(e={},e[o.default.loaded]=p,e)),width:s,height:d,src:r,alt:a,onLoad:c}))},r}(a.PureComponent);d.displayName="LazySplash",d.defaultProps={width:0,height:0,alt:""};var c=d;t.default=c},9318:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=l(n(232)),o=n(2),s=l(n(6134));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).anim=new i.default.Value(0),t.animate=function(e){i.default.spring(t.anim,{toValue:e,friction:10,tension:100}).start()},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.componentDidUpdate=function(e){e.show!==this.props.show&&this.animate(this.props.show?1:0)},l.getAnimatedStyle=function(){var e=this.anim;return{opacity:e,transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["-100px","0px"]})},{translateZ:0}]}},l.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default.a,{href:o.Routes.INDEX,target:"_blank",rel:"noopener",className:s.default.logo,style:this.getAnimatedStyle()})},a}(a.PureComponent);t.default=u,u.displayName="AuthLogo"},9319:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(104),i=n(126),o=p(n(9320)),s=p(n(9322)),l=p(n(9325)),u=n(6869),d=n(2),c=p(n(6135)),f=p(n(5555));function p(e){return e&&e.__esModule?e:{default:e}}var v=(0,i.cssValueToNumber)(f.default.responsiveWidthMobile),h=1/120,m=4e3,_=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).width=0,n.height=0,n.children=[],n.ratio=0,n._lastTick=0,n._isPlaying=!1,n._reqAnimId=null,n.setCanvas=function(e){if(null!=e){n.canvas=e,n.canvasContext=n.canvas.getContext("2d");var t=window.devicePixelRatio||1,r=n.canvasContext.webkitBackingStorePixelRatio||n.canvasContext.mozBackingStorePixelRatio||n.canvasContext.msBackingStorePixelRatio||n.canvasContext.oBackingStorePixelRatio||n.canvasContext.backingStorePixelRatio||1;n.ratio=t/r}},n.resizeCanvas=function(){n.width=window.innerWidth,n.height=window.innerHeight;var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.canvas,r=e.canvasContext,a=e.width,i=e.height,o=e.ratio;null!=t&&null!=r&&(t.width=a*o,t.height=i*o,t.style.width=a+"px",t.style.height=i+"px",r.scale(o,o)),a<=v?n.pause():n.play(),n.wave.resizeWave(),n.renderAnimation()},n.handleVisibilityChange=function(){document.hidden?n.delayedPause():n.play()},n.play=function(){clearTimeout(n._pauseTimeout),n._isPlaying||(n._isPlaying=!0,n.run())},n.pause=function(){clearTimeout(n._pauseTimeout),n._isPlaying=!1,window.cancelAnimationFrame(n._reqAnimId),n._reqAnimId=null,n.advanceTransitionalState()},n.delayedPause=function(){clearTimeout(n._pauseTimeout),n._pauseTimeout=setTimeout(n.pause,m)},n.updateWaveState=function(e){(0,n.props.updateWaveState)(e)},n.handleWaveEmphasize=function(){n.wave.emphasize()},n.run=function(){if(n._isPlaying){if(0===n._lastTick)return n._lastTick=Date.now(),void(n._reqAnimId=requestAnimationFrame(n.run));for(var e=Date.now(),t=Math.min((e-n._lastTick)/1e3,8*h);t>0;){var r=t<h?t:h;n.updateAnimation(r),t-=r}n.renderAnimation(),n._lastTick=e,n._reqAnimId=requestAnimationFrame(n.run)}},n.wave=new l.default(n.updateWaveState),n.children=[new o.default,new s.default,n.wave],n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=i.prototype;return f.componentDidMount=function(){this.initialize()},f.componentDidUpdate=function(e){var t=this.props.waveState;t===u.WaveStates.FILLING&&t!==e.waveState&&this.waveFill()},f.componentWillUnmount=function(){this.terminate()},f.initialize=function(){this.children.forEach(function(e){return e.initialize()}),this.bindEvents(),this.resizeCanvas(),document.hidden&&this.delayedPause()},f.terminate=function(){this.pause(),this.unbindEvents(),this.children.forEach(function(e){return e.terminate()})},f.bindEvents=function(){window.addEventListener("resize",this.resizeCanvas,!1),window.addEventListener("blur",this.delayedPause,!1),window.addEventListener("focus",this.play,!1),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),a.ComponentDispatch.subscribe(d.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},f.unbindEvents=function(){window.removeEventListener("resize",this.resizeCanvas,!1),window.removeEventListener("blur",this.delayedPause,!1),window.removeEventListener("focus",this.play,!1),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),a.ComponentDispatch.unsubscribe(d.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},f.advanceTransitionalState=function(){var e=this.props.waveState;e!==u.WaveStates.INITIAL&&e!==u.WaveStates.FILLING||this.updateWaveState(e+1)},f.waveFill=function(){this._isPlaying?this.children.forEach(function(e){return e.fill()}):this.updateWaveState(u.WaveStates.FILLED)},f.updateAnimation=function(e){this.children.forEach(function(t){return t.update(e)})},f.renderAnimation=function(){var e=this.canvasContext;null!=e&&(e.fillStyle=d.Colors.PRIMARY_DARK_630,e.fillRect(0,0,this.width,this.height),this.children.forEach(function(t){return t.render(e)}))},f.render=function(){return r.createElement("canvas",{className:c.default.canvas,ref:this.setCanvas})},i}(r.Component);_.displayName="WaveAnimation";var g=_;t.default=g},9320:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=n(7366),i=(r=n(9321))&&r.__esModule?r:{default:r};var o=20,s=function(){function e(){var e=this;this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.mx=0,this.my=0,this.x=0,this.y=0,this.velX=0,this.velY=0,this.targetX=2*o,this.targetY=2*o,this.spring={friction:60,tension:100},this.handleMouseMove=function(t){var n=t.clientX,r=t.clientY;e.targetX=n/window.innerWidth*o+o,e.targetY=r/window.innerWidth*o+o}}var t=e.prototype;return t.initialize=function(){var e=this;this.img=new Image,this.img.onload=function(){e.loaded=!0},this.img.src=i.default,this.bind()},t.bind=function(){window.addEventListener("mousemove",this.handleMouseMove,!1)},t.unbind=function(){window.removeEventListener("mousemove",this.handleMouseMove,!1)},t.terminate=function(){this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.unbind()},t.update=function(e){this.loaded&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.velX+=(0,a.applySpringForce)(this.targetX,this.x,this.velX,this.spring)*e,this.velY+=(0,a.applySpringForce)(this.targetY,this.y,this.velY,this.spring)*e,this.x+=this.velX*e,this.y+=this.velY*e)},t.render=function(e){var t=this.img;this.loaded&&null!=t&&(e.save(),e.globalCompositeOperation="source-atop",e.globalAlpha=this.alpha,e.drawImage(t,this.x+o,this.y+o),e.restore())},t.fill=function(){this.isFilled=!0},e}();s.displayName="Blobs";var l=s;t.default=l},9321:function(e,t,n){e.exports=n.p+"c8f0b54f79a9fd1ef60ad74c73a1ee1a.png"},9322:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9323)),a=i(n(9324));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){this.particles=[],this.wind=new a.default,this.alpha=0,this.isFilled=!1,this.loadInTimer=null}var t=e.prototype;return t.initialize=function(){var e=this;this.particles=[],this.wind.initialize(),this.loadInTimer=setTimeout(function(){for(var t=0;t<75;t++)e.particles.push(new r.default)},250)},t.terminate=function(){this.particles=[],this.wind.terminate(),null!=this.loadInTimer&&clearTimeout(this.loadInTimer)},t.update=function(e){var t=this;0!==this.particles.length&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.wind.update(),this.particles.forEach(function(n){return n.update(10*t.wind.forceX*e,10*Math.min(t.wind.forceY,-.001)*e-.1)}))},t.render=function(e){var t=this;0!==this.particles.length&&(e.save(),e.globalCompositeOperation="source-atop",this.particles.forEach(function(n){return n.render(e,t.alpha)}),e.restore())},t.fill=function(){this.isFilled=!0},e}();o.displayName="Particles";var s=o;t.default=s},9323:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(7366),a=n(6869),i=2,o=3,s=1,l=4,u=["#7d8187","#18191c","#8fa2df","#4f545c"],d=function(){function e(){this.size=(0,r.randomNumber)(i,o),this.depth=(0,r.randomNumber)(s,l),this.positionMultiplier=this.depth/l,this.color=u[l-this.depth],this.offscreenX=a.MAX_RADIUS+this.size,this.offscreenY=a.MAX_RADIUS+this.size,this.x=(0,r.randomNumber)(-this.size,this.offscreenX),this.y=(0,r.randomNumber)(-this.size,this.offscreenY)}var t=e.prototype;return t.checkBounds=function(){this.x>this.offscreenX?this.x=-this.size:this.y>this.offscreenY?this.y=-this.size:this.x<-this.size?this.x=this.offscreenX:this.y<-this.size&&(this.y=this.offscreenY)},t.update=function(e,t){this.checkBounds(),this.y+=t*this.positionMultiplier,this.x+=e*this.positionMultiplier},t.render=function(e,t){e.beginPath(),e.globalAlpha=t*this.depth/4,e.arc(this.x,this.y,this.size,0,a.TWO_PI,!0),e.fillStyle=this.color,e.fill(),e.globalAlpha=1},e}();d.displayName="Particle";var c=d;t.default=c},9324:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=30;function a(e,t){return Math.max(Math.min((e-t)/r,1),-1)}var i=function(){function e(){var e=this;this.resistance=.98,this.px=0,this.py=0,this.x=0,this.y=0,this.forceX=0,this.forceY=0,this.handleMouseMove=function(t){var n=t.clientX,r=t.clientY;e.x=n,e.y=r}}var t=e.prototype;return t.initialize=function(){window.addEventListener("mousemove",this.handleMouseMove)},t.terminate=function(){window.removeEventListener("mousemove",this.handleMouseMove)},t.update=function(){this.x!==this.px&&this.y!==this.py&&(this.forceX+=a(this.x,this.px),this.forceY+=a(this.y,this.py),this.px=this.x,this.py=this.y),0!==this.forceX&&(this.forceX=this.forceX*this.resistance),0!==this.forceY&&(this.forceY=this.forceY*this.resistance)},t.render=function(){},e}();i.displayName="Wind";var o=i;t.default=o},9325:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(736)),a=n(126),i=u(n(9326)),o=n(7366),s=n(6869),l=u(n(5555));function u(e){return e&&e.__esModule?e:{default:e}}var d=15,c=d/2,f=(0,a.cssValueToNumber)(l.default.responsiveWidthMobile);function p(e,t,n,r){return t*(n/r)+e}function v(){return Math.min(Math.max(Math.min(.8*window.innerWidth,.8*window.innerHeight),s.MIN_RADIUS),s.MAX_RADIUS)}var h=30,m=function(){function e(e){var t,n=this;this.points=[],this.hasEntered=!1,this.isFilling=!1,this._resizeWave=function(){var e=v();n.points.forEach(function(t,n){var r=e*Math.cos(s.TWO_PI*p(0,.25,n,d))-40,a=e*Math.sin(s.TWO_PI*p(0,.25,n,d))-40;0!==n?a+=(0,o.randomNumber)(0,h)-h/2:n!==d&&(r+=(0,o.randomNumber)(0,h)-h/2),t.targetX=r,t.targetY=a,t.angle=Math.atan2(a,r)})},this.resizeWave=(0,r.default)(this._resizeWave,200),this.updateWaveState=e,this.hasEntered=!1;for(var a=0;a<=d;a++)this.points.push(new i.default((t=a,Math.floor(c-Math.floor(Math.abs(t-c))))))}var t=e.prototype;return t.initialize=function(){this._resizeWave()},t.emphasize=function(){this.points.forEach(function(e){return e.speedUp=1})},t.terminate=function(){this.points=[]},t.update=function(e){0!==this.points.length&&(this.points.forEach(function(t){return t.update(Math.min(e,1/60))}),this.hasEntered||this.points[0].x>f&&(this.hasEntered=!0,this.updateWaveState(s.WaveStates.ENTERED)),this.isFilling&&this.points[0].x>this.points[0].targetX&&(this.isFilling=!1,this.updateWaveState(s.WaveStates.FILLED)))},t.render=function(e){if(0!==this.points.length){var t=this.points,n=t[0],r=t.slice(1);e.save(),e.beginPath(),e.moveTo(n.x,n.y),r.forEach(function(t,n){if(null==r[n+1])e.quadraticCurveTo(t.x,t.y,t.x,t.y);else{var a=(t.x+r[n+1].x)/2,i=(t.y+r[n+1].y)/2;e.quadraticCurveTo(t.x,t.y,a,i)}}),e.lineTo(0,0),e.closePath(),e.fillStyle="#000",e.globalCompositeOperation="destination-in",e.fill(),e.restore()}},t.fill=function(){var e=this,t=Math.sqrt(window.innerWidth*window.innerWidth+window.innerHeight*window.innerHeight)+100,n=v()-140,r=function(e,t,n,r){e.targetX=t*Math.cos(s.TWO_PI*p(0,.25,n,d))-40,e.targetY=t*Math.sin(s.TWO_PI*p(0,.25,n,d))-40,r&&(e.targetX+=(0,o.randomNumber)(0,h)-h/2,e.targetY+=(0,o.randomNumber)(0,h)-h/2,e.speedUp=3,e.spring.tension=s.POINT_TENSION_DEFAULT*Math.random()*.5+s.POINT_TENSION_DEFAULT)};this.points.forEach(function(e,t){return r(e,n,t,!0)}),setTimeout(function(){e.points.forEach(function(e,n){r(e,t,n,!1);var a=1-e.index/(d/2);e.spring.friction+=e.spring.friction+e.spring.friction*a,e.spring.tension=.7*s.POINT_TENSION_DEFAULT+80*Math.random(),e.waveRange=2*e.waveRange}),e.isFilling=!0,e.updateWaveState(s.WaveStates.FILLING)},250)},e}();m.displayName="Wave";var _=m;t.default=_},9326:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(7366),a=n(6869),i=60,o=2.15*Math.cos(Math.PI),s=function(){function e(e){this.x=-40,this.y=-40,this.targetX=0,this.targetY=0,this.oscillate=!0,this.velX=0,this.velY=0,this.angle=0,this.speedUp=1.5,this.waveRange=i,this.spring={friction:15,tension:a.POINT_TENSION_DEFAULT},this.index=e,this.spring.tension=a.POINT_TENSION_DEFAULT*Math.max(.1,e/7)+a.POINT_TENSION_DEFAULT,this.count=o*e}var t=e.prototype;return t.updateStatic=function(){this.targetX=this.targetX+30*Math.cos(this.angle)*Math.sin(this.count),this.targetY=this.targetY+30*Math.sin(this.angle)*Math.sin(this.count),this.x=this.targetX,this.y=this.targetY},t.update=function(e){var t,n;if(this.speedUp>0?(this.speedUp=Math.max(0,this.speedUp-e),this.count+=e*(10*Math.min(this.speedUp,1)+.4)):this.count+=.4*e,t=(0,r.applySpringForce)(this.targetX,this.x,this.velX,this.spring),n=(0,r.applySpringForce)(this.targetY,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e,this.oscillate){var a=this.targetX+this.waveRange*Math.cos(this.angle)*Math.sin(this.count),i=this.targetY+this.waveRange*Math.sin(this.angle)*Math.sin(this.count);t=(0,r.applySpringForce)(a,this.x,this.velX,this.spring),n=(0,r.applySpringForce)(i,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e}this.x+=this.velX*e,this.y+=this.velY*e},t.render=function(e){e.fillStyle="#fff",e.fillRect(this.x,this.y,4,4)},e}();s.displayName="Point";var l=s;t.default=l},9327:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=m(n(0)),i=h(n(57)),o=n(714),s=h(n(5)),l=h(n(718)),u=n(6239),d=h(n(20)),c=m(n(6225)),f=n(2),p=h(n(15)),v=h(n(5511));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}s.default.initialize();var g=_(c.AuthSpinner,{hideQuote:!0}),y=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.componentDidMount=function(){var e=(0,o.parse)(this.props.location.search);l.default.authorizeIPAddress(e.token),(0,u.trackAppUIViewed)("authorize_ip")},s.renderLoginButton=function(){if("Android"===i.default.os.family||"iOS"===i.default.os.family)return null;var e=this.props.transitionTo;return _(c.Button,{onClick:function(){return e(f.Routes.LOGIN)}},void 0,p.default.Messages.LOGIN)},s.renderFailed=function(){return _(c.default,{},void 0,_("img",{alt:"",src:n(9328),className:v.default.marginBottom20}),_(c.Title,{className:v.default.marginBottom8},void 0,p.default.Messages.AUTHORIZATION_EXPIRED),_(c.SubTitle,{className:v.default.marginBottom40},void 0,p.default.Messages.AUTH_EXPIRED_SUGGESTION),this.renderLoginButton())},s.renderSucceeded=function(){return _(c.default,{},void 0,_("img",{alt:"",src:n(9329),className:v.default.marginBottom20}),_(c.Title,{className:v.default.marginBottom8},void 0,p.default.Messages.IP_AUTHORIZATION_SUCCEEDED),_(c.SubTitle,{className:v.default.marginBottom40},void 0,p.default.Messages.AUTH_IP_AUTH_SUCCEEDED_SUGGESTION),this.renderLoginButton())},s.renderDefault=function(){return _(c.default,{},void 0,g,_(c.Title,{},void 0,p.default.Messages.AUTHORIZING))},s.render=function(){var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()},a}(a.PureComponent);y.displayName="AuthorizeIPAddress",y.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var E=s.default.connectStores([d.default],function(){return{verifyFailed:d.default.didVerifyFail(),verifySucceeded:d.default.didVerifySucceed()}})(y);t.default=E}).call(this,n(22))},9328:function(e,t,n){e.exports=n.p+"5ed6422f4a60342227db5d2678ecf911.svg"},9329:function(e,t,n){e.exports=n.p+"004dd8db75dd498bf03f6b0e7fcb51fd.svg"},9330:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=m(n(0)),i=n(714),o=h(n(5)),s=h(n(21)),l=n(6239),u=h(n(175)),d=h(n(6282)),c=m(n(6225)),f=n(2),p=h(n(15)),v=h(n(5511));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}o.default.initialize();var g=_(c.default,{},void 0,_(c.AuthSpinner,{})),y=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={busy:!0,success:!1,user:null},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.componentDidMount=function(){var e=this,t=(0,i.parse)(this.props.location.search);s.default.post({url:f.Endpoints.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t.token,pixel_uuid:t.hash}}).then(function(t){var n=t.body.user,r=new u.default(n);e.setState({success:!0,busy:!1,user:r})},function(){return e.setState({success:!1,busy:!1})}),(0,l.trackAppUIViewed)("disable_email_notifications")},o.renderBusy=function(){return g},o.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,r=this.state.user;return _(c.default,{},void 0,_(c.Avatar,{src:r?r.getAvatarURL():null,size:c.Avatar.Sizes.DEPRECATED_SIZE_100,className:v.default.marginBottom20}),_(c.Title,{className:v.default.marginBottom8},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER),_(c.SubTitle,{},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY),_(c.Button,{className:v.default.marginTop40,onClick:function(){return n(t)}},void 0,p.default.Messages.CONTINUE_TO_WEBAPP))},o.renderError=function(){var e=this.props,t=e.defaultRoute,r=e.transitionTo;return _(c.default,{},void 0,_(c.Image,{src:n(9331),className:v.default.marginBottom20}),_(c.Title,{className:v.default.marginBottom8},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER),_(c.SubTitle,{},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY),_(c.Button,{className:v.default.marginTop40,onClick:function(){return r(t)}},void 0,p.default.Messages.CONTINUE_TO_WEBAPP))},o.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()},a}(a.PureComponent);y.displayName="DisableEmailNotifications",y.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var E=o.default.connectStores([d.default],function(){return{defaultRoute:d.default.defaultRoute}})(y);t.default=E}).call(this,n(22))},9331:function(e,t,n){e.exports=n.p+"4dfc23421736b1eaf2a19bcb16633bad.svg"},9332:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(0)),i=A(n(28)),o=A(n(5)),s=A(n(718)),l=R(n(6287)),u=R(n(1341)),d=R(n(1230)),c=n(6239),f=A(n(20)),p=A(n(6282)),v=A(n(6397)),h=A(n(184)),m=A(n(1195)),_=R(n(6225)),g=R(n(1209)),y=A(n(668)),E=A(n(6867)),I=A(n(6565)),T=A(n(7233)),S=n(2),N=A(n(15)),O=A(n(5511));function A(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){M(i,r,a,o,s,"next",e)}function s(e){M(i,r,a,o,s,"throw",e)}o(void 0)})}}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.default.initialize();var L=Object.freeze({REGISTER:"register",LOGIN:"login"}),D=P(_.AuthSpinner,{}),w=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1},t.refreshUser=function(){t.setState({fetchingUser:!0}),d.fetchCurrentUserWithAnalyticsToken().then(function(e){return t.setState({currentUser:e,fetchingUser:!1})}).catch(function(){return t.setState({fetchingUser:!1})})},t.handleContinue=function(){(0,t.props.transitionTo)(S.Routes.APPLICATION_LIBRARY)},t.handleLogout=function(){var e=t.props.match.params.giftCode;s.default.logout(S.Routes.GIFT_CODE_LOGIN(e))},t.handleResendVerification=function(){s.default.verifyResend(),t.setState({sentVerification:!0})},t.handleAccept=b(regeneratorRuntime.mark(function e(){var n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.transitionTo,null!=(a=n.giftCode)){e.next=3;break}throw new Error("Trying to accept gift before resolve");case 3:return i=t.getCode(),e.prev=4,t.setState({error:null}),e.next=8,l.redeemGiftCode(i);case 8:a.premiumSubscriptionType===S.PremiumTypes.TIER_2?r(S.Routes.APPLICATION_STORE):a.premiumSubscriptionType===S.PremiumTypes.TIER_1?r(S.Routes.ACTIVITY):r(S.Routes.APPLICATION_LIBRARY),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t.setState({error:e.t0});case 14:case"end":return e.stop()}},e,null,[[4,11]])})),t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,f,p,v=a.prototype;return v.componentDidMount=function(){this.props.authenticated&&this.handleAuthenticated(),(0,c.trackAppUIViewed)("gift_code")},v.componentDidUpdate=function(e){var t=this.props.authenticated,n=this.getCode();n!==this.getCode(e)&&l.resolveGiftCode(n,!0,!0),t&&!e.authenticated&&this.handleAuthenticated(),!t&&e.authenticated&&this.setState({currentUser:null})},v.handleAuthenticated=function(){var e=this.state.currentUser;u.fetchLibrary(),null==e&&this.refreshUser()},v.getCode=function(e){return void 0===e&&(e=this.props),e.match.params.giftCode},v.getMode=function(e){return void 0===e&&(e=this.props),e.login?L.LOGIN:L.REGISTER},v.getErrorMessage=function(e){var t=this.props.libraryApplication,n=this.state.error,r=null!=n?n.code:null;return r===S.AbortCodes.INVALID_GIFT_SELF_REDEMPTION?N.default.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT:null!=t||r===S.AbortCodes.INVALID_GIFT_REDEMPTION_OWNED?N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_OWNED.format({libraryLink:S.Routes.APPLICATION_LIBRARY}):e.isClaimed||r===S.AbortCodes.INVALID_GIFT_REDEMPTION_EXHAUSTED?N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_CLAIMED:null},v.renderSpinner=function(e){return P(_.default,{},void 0,P(_.Title,{},void 0,e),D)},v.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,r=e.transitionTo;return P(_.default,{},void 0,P(_.Image,{src:n(7994),className:O.default.marginBottom8}),P(_.Title,{className:(0,i.default)(O.default.marginTop8,O.default.marginBottom8)},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_TITLE),P(_.SubTitle,{},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_BODY),P(_.Button,{className:(0,i.default)(O.default.marginTop40,O.default.marginBottom8),onClick:function(){return r(t)}},void 0,N.default.Messages.CONTINUE_TO_WEBAPP),P(_.Button,{onClick:function(){return window.open(y.default.getArticleURL(S.HelpdeskArticles.GIFTING),"_blank")},look:_.Button.Looks.LINK},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_TIP))},v.renderAppOpened=function(){var e=this;return P(_.default,{},void 0,P(_.Title,{className:O.default.marginBottom8},void 0,N.default.Messages.APP_OPENED_TITLE),P(_.SubTitle,{},void 0,N.default.Messages.APP_OPENED_BODY),P(_.Button,{className:O.default.marginTop40,onClick:function(){return e.setState({continueOnWeb:!0})}},void 0,N.default.Messages.GIFT_CODE_AUTH_CONTINUE_IN_BROWSER))},v.renderVerification=function(e){var t=this.state.sentVerification;return P(_.default,{},void 0,P(_.Image,{src:n(7995),className:O.default.marginBottom8}),P(_.Title,{},void 0,N.default.Messages.GIFT_CODE_AUTH_VERIFICATION_TITLE.format({username:e.username})),P(_.SubTitle,{className:O.default.marginTop20},void 0,N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_VERIFICATION_REQUIRED),P(_.Button,{disabled:t,className:O.default.marginTop40,onClick:this.handleResendVerification},void 0,t?N.default.Messages.GIFT_CODE_AUTH_VERIFICATION_SENT:N.default.Messages.RESEND_VERIFICATION_EMAIL),P(_.Button,{look:_.Button.Looks.LINK,onClick:this.refreshUser,className:O.default.marginTop8},void 0,N.default.Messages.GIFT_CODE_AUTH_CHECK_VERIFICATION_AGAIN))},v.renderAuthenticated=function(e,t){var n=this.getErrorMessage(e),r=null!=n;return P(_.default,{},void 0,P(E.default,{giftCode:e}),P(_.Button,{disabled:r,className:O.default.marginTop40,onClick:this.handleAccept},void 0,N.default.Messages.GIFT_CODE_AUTH_ACCEPT),null!=n?P(_.SubTitle,{className:O.default.marginTop20},void 0,n):P(_.SubText,{className:O.default.marginTop20},void 0,N.default.Messages.GIFT_CODE_AUTH_LOGGED_IN_AS.format({userTag:t.tag,onLogoutClick:this.handleLogout})))},v.render=function(){var e=this.props,t=e.nativeAppState,n=e.sku,r=e.authenticated,a=e.giftCode,i=e.isResolved,o=e.isAccepting,s=e.transitionTo,l=e.location,u=this.state,d=u.fetchingUser,c=u.continueOnWeb;if(t===S.NativeAppStates.OPEN&&!c)return this.renderAppOpened();if(t===S.NativeAppStates.OPENING)return this.renderSpinner(N.default.Messages.APP_OPENING);if(o)return this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_ACCEPTING);if(null==a)return i?this.renderExpiredInvite():this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_RESOLVING);if(i){if(r){var f=this.state.currentUser;return d||null==f?this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_FETCHING_USER):this.requiresVerification&&null!=f?this.renderVerification(f):this.renderAuthenticated(a,f)}return this.getMode()===L.LOGIN?P(I.default,{giftCodeSKU:n,giftCode:a,transitionTo:s,location:l}):P(T.default,{giftCodeSKU:n,giftCode:a,transitionTo:s,location:l})}return null},o=a,(f=[{key:"requiresVerification",get:function(){var e=this.state.currentUser;return null!=e&&!e.verified}}])&&C(o.prototype,f),p&&C(o,p),a}(a.PureComponent);w.displayName="GiftCode";var B=o.default.connectStores([v.default,h.default,f.default,m.default,p.default],function(e){var t=e.match.params.giftCode,n=v.default.get(t),r=null!=n?m.default.get(n.skuId):null;return{giftCode:n,sku:r,libraryApplication:null!=r&&null!=n?g.firstLibraryApplicationForGiftCode(n,r,h.default):null,authenticated:f.default.isAuthenticated(),defaultRoute:p.default.defaultRoute,isResolved:v.default.getIsResolved(t),isAccepting:v.default.getIsAccepting(t),libraryApplicationsFetched:h.default.fetched,nativeAppState:v.default.getNativeAppState(t)}})(w);t.default=B},9333:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(0)),i=O(n(28)),o=n(1410),s=O(n(5)),l=O(n(31)),u=O(n(6199)),d=n(6239),c=O(n(20)),f=O(n(6282)),p=O(n(1368)),v=A(n(6225)),h=O(n(26)),m=A(n(9334)),_=O(n(668)),g=O(n(6442)),y=O(n(6440)),E=O(n(6565)),I=O(n(7233)),T=n(2),S=O(n(15)),N=O(n(5511));function O(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}s.default.initialize();var M="Accept Invite Page",b="register",C="login",L=R(v.AuthSpinner,{}),D=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).getAcceptInviteContext=function(e){return u.default.getInviteContext(e,t.props.invite)},t.handleContinue=function(){var e=t.props,n=e.invite,r=e.transitionTo;null!=n.channel&&u.default.transitionToInvite(n,r)},t.handleAccept=function(){var e=t.props.invite,n=t.getCode();u.default.acceptInvite(n,t.getAcceptInviteContext(M),function(){null!=e.channel&&u.default.openApp(n,e.channel.id)})},t.handleDefaultTransition=function(){var e=t.props,n=e.defaultRoute;(0,e.transitionTo)(n)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.componentDidMount=function(){if(h.default.track(T.AnalyticEvents.INVITE_VIEWED,{},!0),(0,d.trackAppUIViewed)("invite"),!o.IS_APP_COMPATIBLE_BROWSER){var e=this.getCode();g.default.launch("discord://"+T.Routes.INVITE(e),function(){})}},s.componentDidUpdate=function(e){var t=this.props,n=t.invite,r=t.authenticated,a=t.transitionTo,i=t.guestLurker,o=this.getCode();if(o!==this.getCode(e))u.default.resolveInvite(o,M);else if(n.state===T.InviteStates.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===C&&r!==e.authenticated&&r){var s=c.default.getFingerprint();if(null!=s){var d=m.extractId(s);this.track(T.AnalyticEvents.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:d})}u.default.acceptInvite(o,this.getAcceptInviteContext(M),this.handleContinue)}if(n.nativeAppState!==e.invite.nativeAppState&&n.nativeAppState===T.NativeAppStates.OPEN&&this.track(T.AnalyticEvents.INVITE_APP_INVOKED,!1),this.getMode()===b&&r&&!e.authenticated){var f=n.guild,p=n.channel;if(null!=p){var v=null!=f?f.id:T.ME;l.default.set("homepageNUFComplete",!0),u.default.transitionToInvite(n,function(){return a(T.Routes.WELCOME(v,p.id,p.type))})}}null!=n.guest_token&&i&&n.state===T.InviteStates.RESOLVED&&n.nativeAppState===T.NativeAppStates.OPEN_FAIL&&setTimeout(this.handleContinue,300)},s.getCode=function(e){return void 0===e&&(e=this.props),e.inviteCode},s.getMode=function(e){return void 0===e&&(e=this.props),e.login?C:b},s.track=function(e,t,n){void 0===n&&(n=null);var r=this.props.invite,a=this.getCode(),i=t?{guild_id:r.guild?r.guild.id:null,channel_id:r.channel?r.channel.id:null,inviter_id:r.inviter?r.inviter.id:null,invite_code:a}:{invite_code:a};h.default.track(e,P({},i,n))},s.renderButton=function(e,t){return void 0===t&&(t=this.handleDefaultTransition),o.IS_APP_COMPATIBLE_BROWSER?R(v.Button,{className:N.default.marginTop40,onClick:t},void 0,e):R(v.IncompatibleBrowser,{className:N.default.marginTop40})},s.renderSpinner=function(e){return R(v.default,{},void 0,R(v.Title,{},void 0,e),L)},s.renderInvalidInvite=function(e){return void 0===e&&(e=!1),R(v.default,{},void 0,R(v.Image,{src:n(7994),className:N.default.marginBottom8}),R(v.Title,{className:(0,i.default)(N.default.marginTop8,N.default.marginBottom8)},void 0,S.default.Messages.AUTH_INVALID_INVITE_TITLE),R(v.SubTitle,{},void 0,e?S.default.Messages.AUTH_BANNED_INVITE_BODY:S.default.Messages.AUTH_INVALID_INVITE_BODY),this.renderButton(S.default.Messages.CONTINUE_TO_WEBAPP),R(v.Button,{onClick:function(){return window.open(_.default.getArticleURL(T.HelpdeskArticles.INVALID_INVITES),"_blank")},look:v.Button.Looks.LINK,className:N.default.marginTop8},void 0,S.default.Messages.AUTH_INVALID_INVITE_TIP))},s.renderExpiredInvite=function(){return this.renderInvalidInvite(!1)},s.renderBannedInvite=function(){return this.renderInvalidInvite(!0)},s.renderAppOpened=function(){return R(v.default,{},void 0,R(v.Title,{className:N.default.marginBottom8},void 0,S.default.Messages.APP_OPENED_TITLE),R(v.SubTitle,{},void 0,S.default.Messages.APP_OPENED_BODY),this.renderButton(S.default.Messages.CONTINUE_TO_WEBAPP,this.handleContinue))},s.renderAuthenticatedOrDownload=function(){var e=this.props.invite;return R(v.default,{},void 0,R(y.default,{invite:e}),this.renderButton(S.default.Messages.INSTANT_INVITE_ACCEPT,this.handleAccept))},s.renderContinue=function(){return R(v.default,{},void 0,R(v.Title,{},void 0,S.default.Messages.APP_NOT_OPENED),this.renderButton(S.default.Messages.CONTINUE_TO_WEBAPP))},s.render=function(){var e=this,t=this.props,n=t.invite,r=t.authenticated,a=t.guestLurker,i=t.transitionTo,s=t.location;if(n.nativeAppState===T.NativeAppStates.OPEN)return this.renderAppOpened();switch(n.state){case T.InviteStates.APP_OPENED:return this.renderAppOpened();case T.InviteStates.APP_NOT_OPENED:return this.renderContinue();case T.InviteStates.RESOLVING:case T.InviteStates.APP_OPENING:return this.renderSpinner(S.default.Messages.APP_OPENING);case T.InviteStates.RESOLVED:return r||!o.IS_APP_COMPATIBLE_BROWSER?this.renderAuthenticatedOrDownload():null!=n.guest_token&&a?this.renderSpinner(S.default.Messages.INSTANT_INVITE_RESOLVED_TITLE):this.getMode()===C?R(E.default,{invite:n,transitionTo:i,location:s}):R(I.default,{invite:n,onLoginStart:function(){return e.track(T.AnalyticEvents.INVITE_LOGIN,!0)},location:s,transitionTo:i});case T.InviteStates.ACCEPTING:return this.renderSpinner(S.default.Messages.INSTANT_INVITE_ACCEPTING);case T.InviteStates.EXPIRED:return this.renderExpiredInvite();case T.InviteStates.BANNED:return this.renderBannedInvite();case T.InviteStates.ACCEPTED:default:return null}},a}(a.PureComponent);D.displayName="Invite";var w=s.default.connectStores([p.default,f.default,c.default],function(e){var t=e.inviteCode;return{invite:p.default.getInvite(t)||{},authenticated:c.default.isAuthenticated(),guestLurker:c.default.isGuest(),defaultRoute:f.default.defaultRoute}})(D);t.default=w},9334:function(e,t,n){"use strict";t.__esModule=!0,t.extractId=void 0;var r=n(296);t.extractId=r.extractId},9335:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(0)),i=S(n(28)),o=N(n(5)),s=S(n(6199)),l=n(6239),u=S(n(20)),d=S(n(1368)),c=S(n(1200)),f=S(n(250)),p=S(n(708)),v=S(n(251)),h=N(n(6225)),m=S(n(26)),_=S(n(6440)),g=n(2),y=S(n(15)),E=S(n(721)),I=S(n(5511)),T=S(n(6137));function S(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}o.default.initialize();var A={};function R(e,t,n){e.preventDefault(),m.default.track(g.AnalyticEvents.INVITE_APP_OPENED,{invite_code:t,guild_id:n.guild?n.guild.id:null,channel_id:n.channel?n.channel.id:null,inviter_id:n.inviter?n.inviter.id:null});var r=n.state!==g.InviteStates.EXPIRED&&n.state!==g.InviteStates.BANNED?t:void 0,a=u.default.getFingerprint(),i=null!=a?a:u.default.getId();s.default.openApp(r,void 0,i)}var P=O(h.default,{},void 0,O(p.default,{})),M=function(e){var t=e.inviteCode,r=(0,o.useStateFromStores)([d.default],function(){return d.default.getInvite(t)||A});function s(e){var a=e.banned;return O(h.default,{},void 0,O(h.Image,{src:n(9336)}),O(h.Title,{className:(0,i.default)(I.default.marginTop20,I.default.marginBottom8,E.default.flexCenter)},void 0,y.default.Messages.DISCORD_DESC_SHORT),O(h.SubTitle,{className:I.default.marginBottom40},void 0,y.default.Messages.DISCORD_DESC_LONG),O(c.default,{className:T.default.card,type:c.default.Types.CUSTOM},void 0,O("img",{alt:"",className:T.default.cardAccentLeft,src:n(9337)}),O("img",{alt:"",className:T.default.cardAccentRight,src:n(9338)}),O(f.default,{className:T.default.cardContents,direction:f.default.Direction.VERTICAL,align:f.default.Align.STRETCH,grow:0},void 0,O(v.default,{className:T.default.buttonTitle,size:v.default.Sizes.MEDIUM,weight:v.default.Weights.MEDIUM,style:{color:g.Colors.PRIMARY_DARK_300}},void 0,a?y.default.Messages.AUTH_BANNED_INVITE_BODY:y.default.Messages.INVITE_INVALID_ERROR),O(h.Button,{className:T.default.button,onClick:function(e){return R(e,t,r)}},void 0,y.default.Messages.INVITE_INVALID_CTA))))}a.useEffect(function(){m.default.track(g.AnalyticEvents.INVITE_VIEWED,{},!0),(0,l.trackAppUIViewed)("invite_mobile")},[]);var u=O(_.default,{invite:r});switch(r.state){case g.InviteStates.EXPIRED:return s({banned:!1});case g.InviteStates.BANNED:return s({banned:!0});case g.InviteStates.RESOLVING:return P;default:return O(h.default,{},void 0,u,O(h.Button,{onClick:function(e){return R(e,t,r)},className:I.default.marginTop20},void 0,y.default.Messages.INSTANT_INVITE_ACCEPT))}};t.default=M},9336:function(e,t,n){e.exports=n.p+"07c4931451dfa8c32fc8551b48a89536.svg"},9337:function(e,t,n){e.exports=n.p+"96191331272ece160a85126d54e49f3d.svg"},9338:function(e,t,n){e.exports=n.p+"acb452cda03a99894210f832308c055d.svg"},9339:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(714),i=d(n(5)),o=d(n(718)),s=n(749),l=d(n(20)),u=d(n(6565));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isLogoutRequested:t.props.isAuthenticated},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=i.prototype;return l.handleHandoff=function(e,t){this.setState({isLogoutRequested:!1},function(){(0,s.handoffFromApp)(e,t)})},l.componentDidMount=function(){var e=this,t=this.props.location;if(null!=t){var n=(0,a.parse)(t.search),r=n.handoff_key,i=n.handoff_token;null!=r&&null!=i&&(this.state.isLogoutRequested?o.default.logout(null).finally(function(){e.handleHandoff(r,i)}):this.handleHandoff(r,i))}},l.render=function(){return this.state.isLogoutRequested?null:r.createElement(u.default,this.props)},i}(r.PureComponent);c.displayName="LoginHandoff",c.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var f=i.default.connectStores([l.default],function(){return{isAuthenticated:l.default.isAuthenticated()}})(c);t.default=f}).call(this,n(22))},9340:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=g(n(0)),i=_(n(28)),o=n(714),s=_(n(5)),l=_(n(718)),u=n(6239),d=_(n(20)),c=g(n(6225)),f=n(104),p=n(1357),v=n(2),h=_(n(15)),m=_(n(5511));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}s.default.initialize();var E=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={password:"",code:"",error:null},t.handleSubmit=function(e){var n=t.props,r=n.location,a=n.replaceWith,i=t.state,s=i.password,u=i.error;if(null!=e&&e.preventDefault(),0===s.length)return t.setState({error:h.default.Messages.PASSWORD_REQUIRED}),void f.ComponentDispatch.dispatch(v.ComponentActions.WAVE_EMPHASIZE);null!=u&&t.setState({error:null});var d=(0,o.parse)(r.search);null!=d.token&&l.default.resetPassword(d.token,s,a)},t.handleTokenSubmit=function(e){var n=t.props,r=n.location,a=n.replaceWith,i=n.mfaTicket,s=t.state,u=s.code,d=s.password,c=s.error;if(null!=e&&e.preventDefault(),0===d.length)return t.setState({error:h.default.Messages.PASSWORD_REQUIRED}),void f.ComponentDispatch.dispatch(v.ComponentActions.WAVE_EMPHASIZE);null!=c&&t.setState({error:null});var p=(0,o.parse)(r.search);null!=p.token&&l.default.resetPasswordMFA(u,i,d,p.token,a)},t.renderError=function(e){var n=t.props.errors;if(t.hasError(e)){var r=n[e];return Array.isArray(r)?r[0]:r}return null},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.componentDidMount=function(){(0,u.trackAppUIViewed)("reset_password")},s.hasError=function(e){return null!=this.props.errors[e]||null!=this.state.error},s.renderPasswordReset=function(){var e=this,t=this.state,r=t.password,a=t.error,i=this.props.loginStatus,o=a||this.renderError("password");return y(c.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,y("img",{alt:"",src:n(null==o?7996:7997),className:m.default.marginBottom20}),y(c.Title,{},void 0,h.default.Messages.RESET_PASSWORD_TITLE),y(c.Block,{className:m.default.marginTop20},void 0,y(c.Input,{label:h.default.Messages.FORM_LABEL_NEW_PASSWORD,className:m.default.marginBottom20,name:"password",value:r,onChange:function(t){return e.setState({password:t})},error:o,type:"password"}),y(c.Button,{type:"submit",submitting:i===v.LoginStates.LOGGING_IN_MFA},void 0,h.default.Messages.CHANGE_PASSWORD)))},s.renderMFA=function(){var e=this,t=this.state.error,r=this.props.loginStatus,a=t||this.renderError("code");return y(c.default,{onSubmit:this.handleTokenSubmit,tag:"form"},void 0,y("img",{alt:"",src:n(null==a?7996:7997),className:(0,i.default)(m.default.marginBottom20,p.isMobile?m.default.marginTop20:"")}),y(c.Title,{className:m.default.marginBottom8},void 0,h.default.Messages.TWO_FA_ENTER_TOKEN_LABEL),y(c.SubTitle,{},void 0,h.default.Messages.TWO_FA_ENTER_TOKEN_BODY),y(c.Block,{className:m.default.marginTop20},void 0,y(c.Input,{className:m.default.marginBottom8,error:a,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:h.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,value:this.state.code}),y(c.Button,{type:"submit",submitting:r===v.LoginStates.LOGGING_IN_MFA},void 0,h.default.Messages.LOGIN)))},s.render=function(){return this.props.mfaTicket?this.renderMFA():this.renderPasswordReset()},a}(a.PureComponent);E.displayName="ResetPassword",E.defaultProps={transitionTo:function(t){return e.location.assign(t)},replaceWith:function(t){return e.location.replace(t)}};var I=s.default.connectStores([d.default],function(){return{loginStatus:d.default.getLoginStatus(),mfaTicket:d.default.getMFATicket(),errors:d.default.getErrors()}})(E);t.default=I}).call(this,n(22))},9341:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=N(n(0)),i=S(n(28)),o=S(n(57)),s=n(714),l=S(n(5)),u=S(n(718)),d=n(6239),c=S(n(20)),f=S(n(6282)),p=S(n(6512)),v=N(n(6225)),h=S(n(26)),m=S(n(77)),_=S(n(6442)),g=n(2),y=S(n(15)),E=S(n(721)),I=S(n(5511)),T=S(n(6138));function S(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();var A=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleVerify=function(e){var n=(0,s.parse)(t.props.location.search);u.default.verify(n.token,e)},t.handleLogin=function(){(0,t.props.transitionTo)(g.Routes.LOGIN)},t.handleOpenApp=function(){var e=t.props.verifyingUserId;h.default.track(g.AnalyticEvents.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:e}),t.openAppWithFingerprint()},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.componentDidMount=function(){this.handleVerify(),(0,d.trackAppUIViewed)("verify_email")},l.openAppWithFingerprint=function(){var e,t=this.props.fingerprint;e="Android"===o.default.os.family||"iOS"===o.default.os.family?g.DownloadLinks.DYNAMIC("verify_email",{queryString:(0,s.stringify)({fingerprint:t})}):"discord://",_.default.launch(e,function(e){e||m.default.replaceWith(f.default.defaultRoute)})},l.renderVerifyCaptcha=function(){return O(v.default,{},void 0,O(v.Image,{src:n(7998),className:(0,i.default)(T.default.image,I.default.marginBottom20)}),O(v.Title,{className:I.default.marginBottom8},void 0,y.default.Messages.VERIFICATION_VERIFYING),O(v.SubTitle,{className:I.default.marginBottom40},void 0,y.default.Messages.VERIFICATION_BODY_ALT),O("div",{className:E.default.flexCenter},void 0,O(p.default,{onVerify:this.handleVerify,theme:p.default.Themes.DARK})))},l.renderVerifyFailed=function(){return O(v.default,{},void 0,O(v.Image,{src:n(9342),className:(0,i.default)(T.default.image,I.default.marginBottom20)}),O(v.Title,{className:I.default.marginBottom8},void 0,y.default.Messages.VERFICATION_EXPIRED),O(v.SubTitle,{className:I.default.marginBottom40},void 0,y.default.Messages.AUTH_VERFICATION_EXPIRED_SUGGESTION),O(v.Button,{onClick:this.handleLogin},void 0,y.default.Messages.LOGIN))},l.renderVerifySucceeded=function(){return O(v.default,{},void 0,O(v.Image,{src:n(7998),className:(0,i.default)(T.default.image,I.default.marginBottom20)}),O(v.Title,{className:I.default.marginBottom40},void 0,y.default.Messages.VERIFICATION_VERIFIED),O(v.Button,{onClick:this.handleOpenApp},void 0,y.default.Messages.VERIFICATION_OPEN_DISCORD))},l.renderVerifying=function(){return O(v.default,{},void 0,O(v.Image,{src:n(7995),className:(0,i.default)(T.default.image,I.default.marginBottom20)}),O(v.Title,{className:I.default.marginBottom8},void 0,y.default.Messages.VERIFICATION_VERIFYING),O(v.SubTitle,{className:I.default.marginBottom40},void 0,y.default.Messages.ACTION_MAY_TAKE_A_MOMENT),O(v.Button,{submitting:!0,color:v.Button.Colors.PRIMARY}))},l.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,r=e.verifySucceeded;return null!=t&&t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():r?this.renderVerifySucceeded():this.renderVerifying()},a}(a.PureComponent);A.displayName="VerifyEmail",A.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var R=l.default.connectStores([c.default],function(){return{verifyFailed:c.default.didVerifyFail(),verifyErrors:c.default.getVerifyErrors(),verifySucceeded:c.default.didVerifySucceed(),fingerprint:c.default.getFingerprint(),verifyingUserId:c.default.getVerifyingUserId()}})(A);t.default=R}).call(this,n(22))},9342:function(e,t,n){e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"}}]);
//# sourceMappingURL=2000188b5948b635ea3b.js.map